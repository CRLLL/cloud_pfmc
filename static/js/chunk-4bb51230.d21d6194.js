(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-4bb51230"],{"542c":function(e,t,r){},7514:function(e,t,r){"use strict";var o=r("5ca1"),a=r("0a49")(5),n="find",c=!0;n in[]&&Array(1)[n]((function(){c=!1})),o(o.P+o.F*c,"Array",{find:function(e){return a(this,e,arguments.length>1?arguments[1]:void 0)}}),r("9c6c")(n)},"81c7":function(e,t,r){"use strict";r.r(t),r.d(t,"listFormSet",(function(){return n})),r.d(t,"addFormSet",(function(){return c})),r.d(t,"getformSet",(function(){return l})),r.d(t,"updateFormSet",(function(){return s})),r.d(t,"delFormSet",(function(){return i})),r.d(t,"disableFormSet",(function(){return m})),r.d(t,"progListByFormId",(function(){return p}));var o=r("b775"),a=r("b854");function n(e){return Object(o["a"])({url:"".concat(a["pfmcSettings"],"/pfmcPresetFormSet/list"),method:"get",params:e})}function c(e){return Object(o["a"])({url:"".concat(a["pfmcSettings"],"/pfmcPresetFormSet"),method:"post",data:e})}function l(e){return Object(o["a"])({url:"".concat(a["pfmcSettings"],"/pfmcPresetFormSet/").concat(e),method:"get"})}function s(e){return Object(o["a"])({url:"".concat(a["pfmcSettings"],"/pfmcPresetFormSet"),method:"put",data:e})}function i(e){return Object(o["a"])({url:"".concat(a["pfmcSettings"],"/pfmcPresetFormSet/").concat(e),method:"delete"})}function m(e){return Object(o["a"])({url:"".concat(a["pfmcSettings"],"/pfmcPresetFormSet/disableFormSet/").concat(e),method:"get"})}function p(e){return Object(o["a"])({url:"".concat(a["pfmcSettings"],"/pfmcPresetFormSet/getProgByFormId/").concat(e),method:"get"})}},a94c:function(e,t,r){"use strict";r.r(t),r.d(t,"listLevel",(function(){return n})),r.d(t,"levelScoreList",(function(){return c})),r.d(t,"addLevel",(function(){return l})),r.d(t,"updateLevel",(function(){return s})),r.d(t,"delLevel",(function(){return i})),r.d(t,"disablePfmcLevel",(function(){return m})),r.d(t,"changeLevelState",(function(){return p})),r.d(t,"listLevelScoreByProgramId",(function(){return u}));var o=r("b775"),a=r("b854");function n(e){return Object(o["a"])({url:"".concat(a["pfmcSettings"],"/pfmcPresetLevel/list"),method:"get",params:e})}function c(e){return Object(o["a"])({url:"".concat(a["pfmcSettings"],"/pfmcPresetLevel/").concat(e),method:"get"})}function l(e){return Object(o["a"])({url:"".concat(a["pfmcSettings"],"/pfmcPresetLevel"),method:"post",data:e})}function s(e){return Object(o["a"])({url:"".concat(a["pfmcSettings"],"/pfmcPresetLevel/update"),method:"put",data:e})}function i(e){return Object(o["a"])({url:"".concat(a["pfmcSettings"],"/pfmcPresetLevel/").concat(e),method:"delete"})}function m(e){return Object(o["a"])({url:"".concat(a["pfmcSettings"],"/pfmcPresetLevel/disablePfmcLevel/").concat(e),method:"get"})}function p(e){return Object(o["a"])({url:"".concat(a["pfmcSettings"],"/pfmcPresetLevel/changeLevelState"),method:"put",data:e})}function u(e){return Object(o["a"])({url:"".concat(a["pfmcSettings"],"/pfmcPresetLevel/listLevelScoreByProgramId/").concat(e),method:"get"})}},ec03:function(e,t,r){"use strict";r.r(t);var o=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",[r("el-form",{ref:"programForm",attrs:{model:e.programForm,rules:e.rules,"label-width":"200px"}},[r("el-row",[r("el-col",{attrs:{span:12}},[r("el-form-item",{attrs:{label:"考核方案名称:",prop:"programName"}},[r("el-input",{attrs:{disabled:!e.isUpdate},model:{value:e.programForm.programName,callback:function(t){e.$set(e.programForm,"programName",t)},expression:"programForm.programName"}})],1)],1),e._v(" "),r("el-col",{attrs:{span:12}},[r("el-form-item",{attrs:{label:"状态:",prop:"status"}},[r("el-switch",{attrs:{"active-value":"1","inactive-value":"0",disabled:!e.isUpdate},model:{value:e.programForm.status,callback:function(t){e.$set(e.programForm,"status",t)},expression:"programForm.status"}})],1)],1)],1),e._v(" "),r("el-row",[r("el-col",{attrs:{span:12}},[r("el-form-item",{attrs:{label:"考核类型:",prop:"programType"}},[r("el-select",{attrs:{size:"small",clearable:"",disabled:!e.isUpdate},on:{change:e.getFormSetList},model:{value:e.programForm.programType,callback:function(t){e.$set(e.programForm,"programType",t)},expression:"programForm.programType"}},e._l(e.programTypeOptions,(function(e){return r("el-option",{key:e.dictValue,attrs:{label:e.dictLabel,value:e.dictValue}})})),1)],1)],1),e._v(" "),r("el-col",{attrs:{span:12}},[r("el-form-item",{attrs:{label:"是否有组间权重:",prop:"isHaveGroupWeight"}},[r("el-switch",{attrs:{disabled:!e.isUpdate},model:{value:e.programForm.isHaveGroupWeight,callback:function(t){e.$set(e.programForm,"isHaveGroupWeight",t)},expression:"programForm.isHaveGroupWeight"}})],1)],1)],1),e._v(" "),r("el-row",[r("el-col",{attrs:{span:12}},[r("el-form-item",{attrs:{label:"最终分保留小数位数:",prop:"decimalPlace"}},[r("el-select",{attrs:{size:"small",clearable:"",disabled:!e.isUpdate},model:{value:e.programForm.decimalPlace,callback:function(t){e.$set(e.programForm,"decimalPlace",t)},expression:"programForm.decimalPlace"}},e._l(e.decimalPlaceOptions,(function(e){return r("el-option",{key:e.dictValue,attrs:{label:e.dictLabel,value:e.dictValue}})})),1)],1)],1),e._v(" "),r("el-col",{attrs:{span:12}},[r("el-form-item",{attrs:{label:"是否在考核流程中评定等级:",prop:"isAssessLevel"}},[r("el-switch",{attrs:{disabled:!e.isUpdate},model:{value:e.programForm.isAssessLevel,callback:function(t){e.$set(e.programForm,"isAssessLevel",t)},expression:"programForm.isAssessLevel"}})],1)],1)],1),e._v(" "),r("el-form-item",{attrs:{label:"打分方式:",prop:"scoreMode"}},[r("el-radio-group",{attrs:{size:"mini",disabled:!e.isUpdate},model:{value:e.programForm.scoreMode,callback:function(t){e.$set(e.programForm,"scoreMode",t)},expression:"programForm.scoreMode"}},e._l(e.scoreModeList,(function(t){return r("el-radio",{key:t.dictValue,attrs:{label:t.dictValue}},[e._v(e._s(t.dictLabel))])})),1)],1),e._v(" "),r("el-row",{attrs:{gutter:5}},[r("el-col",{attrs:{span:12}},[r("el-form-item",{attrs:{label:"绩效表单:",prop:"formId"}},[r("el-select",{attrs:{size:"small",clearable:"",disabled:!e.isUpdate},model:{value:e.programForm.formId,callback:function(t){e.$set(e.programForm,"formId",t)},expression:"programForm.formId"}},e._l(e.formOptions,(function(e){return r("el-option",{key:e.formId,attrs:{label:e.formName,value:e.formId}})})),1)],1)],1),e._v(" "),r("el-col",{attrs:{span:12}},[r("view-pfmc-form",{attrs:{"form-id":e.programForm.formId}})],1)],1),e._v(" "),r("el-row",{attrs:{gutter:5}},[r("el-col",{attrs:{span:12}},[r("el-form-item",{attrs:{label:"等级定义名称:",prop:"levelId"}},[r("el-select",{attrs:{size:"small",clearable:"",disabled:!e.isUpdate},model:{value:e.programForm.levelId,callback:function(t){e.$set(e.programForm,"levelId",t)},expression:"programForm.levelId"}},e._l(e.levelOptions,(function(e){return r("el-option",{key:e.levelId,attrs:{label:e.levelName,value:e.levelId}})})),1)],1)],1),e._v(" "),r("el-col",{staticStyle:{"margin-top":"10px"},attrs:{span:12}},[e._v(e._s(e.levelContent))])],1),e._v(" "),r("el-form-item",{attrs:{label:"使用范围",prop:"applyScope"}},[r("tree-select",{staticStyle:{width:"470px"},attrs:{options:e.deptOptions,placeholder:"选择部门",disabled:!e.isUpdate,"default-expand-level":1},model:{value:e.programForm.applyScope,callback:function(t){e.$set(e.programForm,"applyScope",t)},expression:"programForm.applyScope"}})],1)],1)],1)},a=[],n=(r("7514"),r("542c"),r("fcb7")),c=r("a94c"),l=r("81c7"),s={name:"ProgramDetail",components:{TreeSelect:function(){return r.e("chunk-5c5c1f08").then(r.t.bind(null,"7026",7))},ViewPfmcForm:function(){return r.e("chunk-33b1b42a").then(r.bind(null,"9eda"))}},props:{isUpdate:{type:Boolean,default:!0},programForm:{type:Object,default:function(){return{programId:"0",programName:"",status:"1",programType:"1",isHaveGroupWeight:!0,formId:"",scoreMode:"",decimalPlace:"",levelId:"",isAssessLevel:!0,applyScope:""}}}},data:function(){return{title:"",statusOptions:[],programTypeOptions:[],formOptions:[],decimalPlaceOptions:[],levelOptions:[],deptOptions:void 0,scoreModeList:[],rules:{programName:[{required:!0,message:"考核方案名称为空",trigger:"change"}],programType:[{required:!0,message:"考核类型不能为空",trigger:"change"}],formId:[{required:!0,message:"请选择绩效表单",trigger:"change"}],scoreMode:[{required:!0,message:"请选择打分方式",trigger:"change"}],decimalPlace:[{required:!0,message:"请选择最终分保留小数位数",trigger:"change"}],levelId:[{required:!0,message:"请选择等级定义",trigger:"change"}],applyScope:[{required:!0,message:"请选择适用范围",trigger:"input"}]}}},computed:{levelContent:function(){var e=this,t=this.levelOptions.find((function(t){return t.levelId==e.programForm.levelId}));return t?t.levelContent:""}},created:function(){var e=this;this.getDicts("pfmc_type").then((function(t){e.programTypeOptions=t.data})),this.getDicts("pfmc_score_mode").then((function(t){e.scoreModeList=t.data})),this.getDicts("sys_normal_status").then((function(t){e.statusOptions=t.data})),this.getDicts("pfmc_program_decimal").then((function(t){e.decimalPlaceOptions=t.data})),this.getFormSetList(),this.getLevelList(),this.getTreeselect()},methods:{getTreeselect:function(){var e=this;Object(n["f"])().then((function(t){e.deptOptions=t.data}))},validateForm:function(){var e=!0;return this.$refs.programForm.validate((function(t){e=t})),e},resetFormValidate:function(){this.$refs["programForm"].resetFields()},handleLevelChange:function(){var e=this,t=this.levelOptions.find((function(t){return t.levelId==e.programForm.levelId}));this.levelContent=t?t.levelContent:""},getFormSetList:function(){var e=this;Object(l["listFormSet"])({pageNum:1,pageSize:0,formState:"1",formType:this.programForm.programType}).then((function(t){e.formOptions=t.data.list}))},getLevelList:function(){var e=this;Object(c["listLevel"])({pageNum:1,pageSize:0,levelState:"1"}).then((function(t){e.levelOptions=t.data.list}))}},mounted:function(){},watch:{"programForm.programType":function(e,t){e&&this.getFormSetList()}}},i=s,m=r("2877"),p=Object(m["a"])(i,o,a,!1,null,"cbcbd520",null);t["default"]=p.exports},fcb7:function(e,t,r){"use strict";r.d(t,"d",(function(){return n})),r.d(t,"c",(function(){return c})),r.d(t,"f",(function(){return l})),r.d(t,"e",(function(){return s})),r.d(t,"a",(function(){return i})),r.d(t,"g",(function(){return m})),r.d(t,"b",(function(){return p}));var o=r("b775"),a=r("365c");function n(e){return Object(o["a"])({url:"".concat(a["d"],"/dept/list"),method:"get",params:e})}function c(e){return Object(o["a"])({url:"".concat(a["d"],"/dept/").concat(e),method:"get"})}function l(){return Object(o["a"])({url:"".concat(a["d"],"/dept/treeselect"),method:"get"})}function s(e){return Object(o["a"])({url:"".concat(a["d"],"/dept/roleDeptTreeselect/").concat(e),method:"get"})}function i(e){return Object(o["a"])({url:"".concat(a["d"],"/dept"),method:"post",data:e})}function m(e){return Object(o["a"])({url:"".concat(a["d"],"/dept"),method:"put",data:e})}function p(e){return Object(o["a"])({url:"".concat(a["d"],"/dept/").concat(e),method:"delete"})}}}]);