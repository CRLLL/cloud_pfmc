(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-0efcce37"],{"9eda":function(e,t,i){"use strict";i.r(t);var o=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{staticClass:"pfmc-import-button-container"},[i("el-button",{staticStyle:{"margin-top":"3px"},attrs:{size:e.size,type:e.type,plain:e.plain,round:e.round,circle:e.circle,disabled:e.disabled,icon:e.icon},on:{click:e.handlePreview}},[e._v(e._s(e.btnText))]),e._v(" "),i("el-dialog",{ref:"previewContain",attrs:{title:e.title,width:"870px",visible:e.showDialog,"append-to-body":""},on:{"update:visible":function(t){e.showDialog=t},close:e.resetForm}},[i("el-collapse",{staticStyle:{width:"800px","border-bottom":"1"},model:{value:e.activeNames,callback:function(t){e.activeNames=t},expression:"activeNames"}},e._l(e.previewSectionList,(function(t,o){return i("el-collapse-item",{key:o,attrs:{name:o}},[i("template",{slot:"title"},[i("div",{on:{click:function(e){}}},[i("div",{staticStyle:{float:"left","margin-top":"13px",width:"150px","font-weight":"bold"}},[e._v(e._s(t.sectionName))])])]),e._v(" "),i("div",{staticStyle:{width:"95%"}},[i("el-table",{staticStyle:{width:"100%"},attrs:{data:t.tableData,"row-key":"fieldName","tree-props":{children:"children",hasChildren:"hasChildren"}}},[i("el-table-column",{attrs:{label:"序号",type:"index"}}),e._v(" "),e._l(t.previewFieldList,(function(t,o){return i("el-table-column",{key:o,attrs:{prop:t.prop,width:t.width,label:t.fieldName,"show-overflow-tooltip":!0},scopedSlots:e._u([{key:"default",fn:function(o){return["select"===t.fieldType?i("div",[i("el-select",{staticStyle:{width:"100%"},attrs:{placeholder:"请选择"},model:{value:o.row[t.prop],callback:function(i){e.$set(o.row,t.prop,i)},expression:"scope.row[item.prop]"}},e._l(t.selectValue,(function(e){return i("el-option",{key:e,attrs:{label:e,value:e}})})),1)],1):"date"===t.fieldType?i("div",[i("el-date-picker",{staticStyle:{width:"100%",height:"100%","line-height":"100%"},attrs:{type:"date",placeholder:"选择日期"},model:{value:o.row[t.prop],callback:function(i){e.$set(o.row,t.prop,i)},expression:"scope.row[item.prop]"}})],1):i("div",[i("el-input",{staticStyle:{width:"100%",height:"100%","line-height":"100%"},attrs:{type:"textarea",rows:"1"},model:{value:o.row[t.prop],callback:function(i){e.$set(o.row,t.prop,i)},expression:"scope.row[item.prop]"}})],1)]}}],null,!0)})})),e._v(" "),"2"===e.showType?i("el-table-column",{attrs:{type:"expand"},scopedSlots:e._u([{key:"default",fn:function(o){return[i("el-form",{staticClass:"demo-table-expand",attrs:{"label-position":"left",inline:"","label-width":"100px"}},[e._l(t.expendFieldList,(function(t,r){return[i("el-row",[i("el-form-item",{attrs:{label:t.fieldName+":",prop:t.prop}},["select"===t.fieldType?i("div",[i("el-select",{staticStyle:{width:"300px"},attrs:{placeholder:"请选择"},model:{value:o.row[t.prop],callback:function(i){e.$set(o.row,t.prop,i)},expression:"props.row[item.prop]"}},e._l(t.selectValue,(function(e){return i("el-option",{key:e,attrs:{label:e,value:e}})})),1)],1):"date"===t.fieldType?i("div",[i("el-date-picker",{staticStyle:{width:"300px",height:"100%","line-height":"100%"},attrs:{type:"date",placeholder:"选择日期"},model:{value:o.row[t.prop],callback:function(i){e.$set(o.row,t.prop,i)},expression:"props.row[item.prop]"}})],1):i("div",[i("el-input",{staticStyle:{width:"300px",height:"100%","line-height":"100%"},attrs:{type:"textarea",rows:"1"},model:{value:o.row[t.prop],callback:function(i){e.$set(o.row,t.prop,i)},expression:"props.row[item.prop]"}})],1)])],1)]}))],2)]}}],null,!0)}):e._e()],2)],1)],2)})),1)],1)],1)},r=[],l=(i("55dd"),i("28a5"),i("81c7")),s={name:"viewPfmcForm",components:{},props:{size:{type:String,required:!1},type:{type:String,default:"primary"},plain:{type:Boolean,default:!0},round:{type:Boolean,default:!1},circle:{type:Boolean,default:!1},disabled:{type:Boolean,default:!1},icon:{type:String,default:""},btnText:{type:String,default:"预览表单"},title:{type:String,default:"预览表单"},formId:{type:String,default:""}},data:function(){return{showDialog:!1,formSetSectionList:[],previewSectionList:[],activeNames:[],showType:void 0}},created:function(){},mounted:function(){},computed:{},methods:{resetForm:function(){this.previewSectionList=[]},sortNumber:function(e,t){return parseInt(e.showOrder)-parseInt(t.showOrder)},handlePreview:function(){var e=this;this.formId&&(this.showDialog=!0,this.activeNames=[],Object(l["getformSet"])(this.formId).then((function(t){if(e.formSetSectionList=t.data.formSetSectionList,e.showType=t.data.showType,e.formSetSectionList&&0!=e.formSetSectionList.length)for(var i=e.$refs.previewContain.width,o=0;o<e.formSetSectionList.length;o++){var r=e.formSetSectionList[o],l={sectionName:r.sectionName,showOrder:r.showOrder,previewFieldList:[],tableData:[{}],expendFieldList:[]};if(!e.formSetSectionList[o].formSetFieldList||0==e.formSetSectionList[o].formSetFieldList.length)return void e.msgError("缺少区段字段信息，无法预览！");if(e.activeNames.push(o),"1"===e.showType){for(var s=0;s<e.formSetSectionList[o].formSetFieldList.length;s++){var a=e.formSetSectionList[o].formSetFieldList[s],p={fieldName:a.fieldName,showOrder:a.showOrder,prop:a.fieldId,fieldType:a.fieldType,selectValue:"select"===a.fieldType?a.selectValue.split(","):[],width:"1"==r.widthPerType?i*parseInt(a.widthper)/100+"px":a.widthper+"px"};l.previewFieldList.push(p)}l.previewFieldList.sort(e.sortNumber)}else{for(var n=["2","3","4","5"],d=0,c=0;c<e.formSetSectionList[o].formSetFieldList.length;c++){var f=e.formSetSectionList[o].formSetFieldList[c],u={fieldName:f.fieldName,prop:f.fieldId,width:"1"==r.widthPerType?i*parseInt(f.widthper)/100+"px":f.widthper+"px",showOrder:f.showOrder,fieldType:f.fieldType,selectValue:"select"===f.fieldType?f.selectValue.split(","):[]};n.indexOf(f.otherAttr)>-1?(l.previewFieldList.push(u),d++):l.expendFieldList.push(u)}for(var h=.9*i/d,w=0;w<l.previewFieldList.length;w++){var m=l.previewFieldList[w];m.width=h+"px"}l.previewFieldList.sort(e.sortNumber),l.expendFieldList.sort(e.sortNumber)}e.previewSectionList.push(l),e.previewSectionList.sort(e.sortNumber)}})))}},watch:{}},a=s,p=(i("a5c6"),i("2877")),n=Object(p["a"])(a,o,r,!1,null,"368a1bba",null);t["default"]=n.exports},a5c6:function(e,t,i){"use strict";var o=i("e4e4"),r=i.n(o);r.a},e4e4:function(e,t,i){}}]);