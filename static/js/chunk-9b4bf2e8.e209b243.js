(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-9b4bf2e8","chunk-2d21062b","chunk-142d866f","chunk-84e6e4a8","chunk-2d21062b","chunk-2d0ac365"],{"014e":function(e,t,r){"use strict";r.r(t),r.d(t,"listColleagueEvaler",(function(){return l})),r.d(t,"addColleagueEvaler",(function(){return n})),r.d(t,"updateColleagueEvaler",(function(){return c})),r.d(t,"delColleagueEvaler",(function(){return i})),r.d(t,"batchDelNoeval",(function(){return m})),r.d(t,"getColleagueEvaler",(function(){return s}));var a=r("b775"),o=r("b854");function l(e){return Object(a["a"])({url:"".concat(o["pfmcSettings"],"/pfmcColleagueEvaler/list"),method:"get",params:e})}function n(e){return Object(a["a"])({url:"".concat(o["pfmcSettings"],"/pfmcColleagueEvaler/add"),method:"post",data:e})}function c(e){return Object(a["a"])({url:"".concat(o["pfmcSettings"],"/pfmcColleagueEvaler/update"),method:"put",data:e})}function i(e){return Object(a["a"])({url:"".concat(o["pfmcSettings"],"/pfmcColleagueEvaler/del/").concat(e),method:"put"})}function m(e){return Object(a["a"])({url:"".concat(o["pfmcSettings"],"/pfmcnoeval/del"),method:"put",data:e})}function s(e){return Object(a["a"])({url:"".concat(o["pfmcSettings"],"/pfmcColleagueEvaler/").concat(e),method:"get"})}},1929:function(e,t,r){"use strict";r.r(t);var a=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",{staticClass:"app-container"},[r("el-dialog",{attrs:{title:e.title,visible:e.visible,width:"800px","close-on-click-modal":!1},on:{open:e.open,close:e.cancel}},[r("el-form",{ref:"form",attrs:{model:e.form,rules:e.rules,"label-width":"120px"}},[r("el-row",[r("el-col",{attrs:{span:11}},[r("el-form-item",{attrs:{label:"年份:",prop:"periodYear"}},[r("el-date-picker",{attrs:{type:"year",placeholder:"选择年份"},on:{change:e.getCycleList},model:{value:e.form.periodYear,callback:function(t){e.$set(e.form,"periodYear",t)},expression:"form.periodYear"}})],1)],1),e._v(" "),r("el-col",{attrs:{span:11}},[r("el-form-item",{attrs:{label:"考核周期:",prop:"periodId"}},[r("el-select",{attrs:{clearable:"",size:"small"},model:{value:e.form.periodId,callback:function(t){e.$set(e.form,"periodId",t)},expression:"form.periodId"}},e._l(e.periodOptions,(function(e){return r("el-option",{key:e.cycleId,attrs:{label:e.cycleName,value:e.cycleId}})})),1)],1)],1)],1),e._v(" "),r("el-row",[r("el-col",{attrs:{span:11}},[r("el-form-item",{attrs:{label:"员工编号:",prop:"empNumber"}},[r("el-input",{attrs:{readonly:"",disabled:!e.isAdd,placeholder:"请选择..."},model:{value:e.form.empNumber,callback:function(t){e.$set(e.form,"empNumber",t)},expression:"form.empNumber"}},[r("select-emp",{directives:[{name:"show",rawName:"v-show",value:e.isAdd,expression:"isAdd"}],attrs:{slot:"append",icon:"el-icon-search"},on:{"select-finish":e.handleSelectEmp},slot:"append"})],1)],1)],1),e._v(" "),r("el-col",{attrs:{span:11}},[r("el-form-item",{attrs:{label:"员工姓名:",prop:"empName"}},[r("el-input",{attrs:{readonly:""},model:{value:e.form.empName,callback:function(t){e.$set(e.form,"empName",t)},expression:"form.empName"}})],1)],1)],1),e._v(" "),r("el-row",[r("el-col",{attrs:{span:11}},[r("el-form-item",{attrs:{label:"同事评价人编号:",prop:"evalerNumber"}},[r("el-input",{attrs:{readonly:"",placeholder:"请选择..."},model:{value:e.form.evalerNumber,callback:function(t){e.$set(e.form,"evalerNumber",t)},expression:"form.evalerNumber"}},[r("select-emp",{attrs:{slot:"append",icon:"el-icon-search"},on:{"select-finish":e.handleSelectEvaler},slot:"append"})],1)],1)],1),e._v(" "),r("el-col",{attrs:{span:11}},[r("el-form-item",{attrs:{label:"同事评价人姓名:",prop:"evalerName"}},[r("el-input",{attrs:{readonly:""},model:{value:e.form.evalerName,callback:function(t){e.$set(e.form,"evalerName",t)},expression:"form.evalerName"}})],1)],1)],1)],1),e._v(" "),r("div",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[r("el-button",{attrs:{plain:"",icon:"el-icon-close"},on:{click:e.cancel}},[e._v("取消")]),e._v(" "),r("el-button",{attrs:{type:"primary",icon:"el-icon-bank-card"},on:{click:e.submitForm}},[e._v("保存")])],1)],1)],1)},o=[],l=r("304f"),n=r("014e"),c={name:"editColleagueEvalerDialog",components:{SelectEmp:function(){return Promise.all([r.e("chunk-5c5c1f08"),r.e("chunk-457809e8")]).then(r.bind(null,"2cc9"))}},props:{visible:{type:Boolean,default:!1},isAdd:{type:Boolean,default:!0},title:{type:String,default:void 0},id:{type:String,default:void 0}},data:function(){return{show:!1,form:{id:void 0,periodYear:new Date,periodId:void 0,empId:void 0,empNumber:void 0,empName:void 0,evalerId:void 0,evalerNumber:void 0,evalerName:void 0},periodOptions:[],rules:{periodYear:[{required:!0,message:"年份不能为空",trigger:"change"}],periodId:[{required:!0,message:"考核周期不能为空",trigger:"change"}],empName:[{required:!0,message:"员工姓名不能为空",trigger:"change"}],empNumber:[{required:!0,message:"员工编号不能为空",trigger:"change"}],evalerName:[{required:!0,message:"同事评价人姓名不能为空",trigger:"change"}],evalerNumber:[{required:!0,message:"同事评价人编号不能为空",trigger:"change"}]}}},computed:{},created:function(){},methods:{submitForm:function(){var e=this;this.$refs["form"].validate((function(t){t&&(e.form.empId!==e.form.evalerId?e.isAdd?e.addColleagueEvalerInfo(e.form):e.updateColleagueEvalerInfo(e.form):e.msgError("员工和同事评价人相同！"))}))},handleSelectEmp:function(e){var t=e[0];t.empId&&(this.form.empId=t.empId,this.form.empName=t.empName,this.form.empNumber=t.empNumber)},handleSelectEvaler:function(e){var t=e[0];t.empId&&(this.form.evalerId=t.empId,this.form.evalerName=t.empName,this.form.evalerNumber=t.empNumber)},resetForm:function(){this.form={id:void 0,periodYear:new Date,periodId:void 0,empId:void 0,empNumber:void 0,empName:void 0,evalerId:void 0,evalerNumber:void 0,evalerName:void 0},this.$refs.form.resetFields()},open:function(){this.isAdd?this.getCycleList():this.getColleagueEvalerInfo()},cancel:function(){this.resetForm(),this.$emit("update:visible",!1)},getColleagueEvalerInfo:function(){var e=this;Object(n["getColleagueEvaler"])(this.id).then((function(t){"0"===t.code?(e.form=t.data,e.getCycleList()):e.msgError(t.msg)})).catch((function(t){e.msgError(t)}))},addColleagueEvalerInfo:function(e){var t=this;Object(n["addColleagueEvaler"])(e).then((function(e){"0"===e.code?(t.msgSuccess("新增同事评价人维护成功"),t.$emit("update:visible",!1)):t.msgError(e.msg)})).catch((function(e){t.msgError(e)}))},updateColleagueEvalerInfo:function(e){var t=this;Object(n["updateColleagueEvaler"])(e).then((function(e){"0"===e.code?(t.msgSuccess("修改同事评价人维护成功"),t.cancel()):t.msgError("修改同事评价人维护失败")})).catch((function(e){t.msgError(e)}))},getCycleList:function(){var e=this,t={cycleYear:"string"===typeof this.form.periodYear?this.form.periodYear:this.form.periodYear.getFullYear(),pageNum:1,pageSize:0};Object(l["listPfmcCycle"])(t).then((function(t){"0"===t.code?e.periodOptions=t.data.list:e.msgError("查询考核周期列表失败")})).catch((function(t){e.msgError(t)}))}},watch:{}},i=c,m=r("2877"),s=Object(m["a"])(i,a,o,!1,null,"2f91a1aa",null);t["default"]=s.exports},"304f":function(e,t,r){"use strict";r.r(t),r.d(t,"listPfmcCycle",(function(){return l})),r.d(t,"getPfmcCycle",(function(){return n})),r.d(t,"addPfmcCycle",(function(){return c})),r.d(t,"updatePfmcCycle",(function(){return i})),r.d(t,"batchAddPfmcCycle",(function(){return m}));var a=r("b775"),o=r("b854");function l(e){return Object(a["a"])({url:"".concat(o["pfmcSettings"],"/pfmccycle/list"),method:"get",params:e})}function n(e){return Object(a["a"])({url:"".concat(o["pfmcSettings"],"/pfmccycle/").concat(e),method:"get"})}function c(e){return Object(a["a"])({url:"".concat(o["pfmcSettings"],"/pfmccycle/add"),method:"post",data:e})}function i(e){return Object(a["a"])({url:"".concat(o["pfmcSettings"],"/pfmccycle/update"),method:"put",data:e})}function m(e){return Object(a["a"])({url:"".concat(o["pfmcSettings"],"/pfmccycle/batchAdd"),method:"post",data:e})}},b854:function(e,t,r){"use strict";r.r(t),r.d(t,"pfmcSettings",(function(){return a})),r.d(t,"pfmcAsist",(function(){return o})),r.d(t,"pfmcExecution",(function(){return l})),r.d(t,"pfmcEval",(function(){return n}));var a="pfmc-settings",o="pfmc-asist",l="pfmc-execution",n="pfmc-eval"}}]);