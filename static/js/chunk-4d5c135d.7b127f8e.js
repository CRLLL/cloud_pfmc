(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-4d5c135d","chunk-2d21062b","chunk-3a57c6ee","chunk-10db1c36","chunk-2d21062b","chunk-1c5d5ad3"],{2879:function(t,e,r){"use strict";r.r(e),r.d(e,"treeselect",(function(){return a})),r.d(e,"selectPfmcEmpList",(function(){return c})),r.d(e,"addPfmcOrg",(function(){return i})),r.d(e,"updatePfmcOrg",(function(){return s})),r.d(e,"delPfmcOrg",(function(){return l})),r.d(e,"searchEmp",(function(){return u})),r.d(e,"addEmpToOrg",(function(){return p})),r.d(e,"updatePfmcEmp",(function(){return m})),r.d(e,"delPfmcEmp",(function(){return d})),r.d(e,"batchTransferEmp",(function(){return f})),r.d(e,"listEmpNameOrNumber",(function(){return g})),r.d(e,"batchUpdateEmpStatus",(function(){return h})),r.d(e,"listEmp",(function(){return b})),r.d(e,"delOrgCheck",(function(){return v}));var o=r("b775"),n=r("b854");function a(){return Object(o["a"])({url:"".concat(n["pfmcAsist"],"/pfmcOrgEmp/treeselect"),method:"get"})}function c(t){return Object(o["a"])({url:"".concat(n["pfmcAsist"],"/pfmcOrgEmp/listEmpByOrgId"),method:"get",params:t})}function i(t){return Object(o["a"])({url:"".concat(n["pfmcAsist"],"/pfmcOrgEmp"),method:"post",data:t})}function s(t){return Object(o["a"])({url:"".concat(n["pfmcAsist"],"/pfmcOrgEmp"),method:"put",data:t})}function l(t){return Object(o["a"])({url:"".concat(n["pfmcAsist"],"/pfmcOrgEmp/deleteOrg/").concat(t),method:"delete"})}function u(t){return Object(o["a"])({url:"".concat(n["pfmcAsist"],"/pfmcOrgEmp/searchEmp"),method:"get",params:t})}function p(t){return Object(o["a"])({url:"".concat(n["pfmcAsist"],"/pfmcOrgEmp/updateEmpOfOrg"),method:"get",params:t})}function m(t){return Object(o["a"])({url:"".concat(n["pfmcAsist"],"/pfmcOrgEmp/updateEmp"),method:"post",data:t})}function d(t){return Object(o["a"])({url:"".concat(n["pfmcAsist"],"/pfmcOrgEmp/deleteEmp/").concat(t),method:"delete"})}function f(t){return Object(o["a"])({url:"".concat(n["pfmcAsist"],"/pfmcOrgEmp/batchTransferEmp"),method:"post",data:t})}function g(t){return Object(o["a"])({url:"".concat(n["pfmcAsist"],"/pfmcOrgEmp/listEmpNameOrNumber"),method:"get",params:t})}function h(t){return Object(o["a"])({url:"".concat(n["pfmcAsist"],"/pfmcOrgEmp/batchUpdateEmpStatus"),method:"post",data:t})}function b(t){return Object(o["a"])({url:"".concat(n["pfmcAsist"],"/pfmcOrgEmp/listEmp"),method:"post",data:t})}function v(t){return Object(o["a"])({url:"".concat(n["pfmcAsist"],"/pfmcOrgEmp/delOrgCheck/").concat(t),method:"delete"})}},"4a47":function(t,e,r){"use strict";r.r(e),r.d(e,"listPfmcGroup",(function(){return a})),r.d(e,"addPfmcGroup",(function(){return c})),r.d(e,"getPfmcGroup",(function(){return i})),r.d(e,"updatePfmcGroup",(function(){return s})),r.d(e,"delPfmcGroup",(function(){return l})),r.d(e,"disablePfmcGroup",(function(){return u})),r.d(e,"changeGroupState",(function(){return p})),r.d(e,"listGroupUsers",(function(){return m}));var o=r("b775"),n=r("b854");function a(t){return Object(o["a"])({url:"".concat(n["pfmcSettings"],"/pfmcBaseGroup/list"),method:"get",params:t})}function c(t){return Object(o["a"])({url:"".concat(n["pfmcSettings"],"/pfmcBaseGroup"),method:"post",data:t})}function i(t){return Object(o["a"])({url:"".concat(n["pfmcSettings"],"/pfmcBaseGroup/").concat(t),method:"get"})}function s(t){return Object(o["a"])({url:"".concat(n["pfmcSettings"],"/pfmcBaseGroup/update"),method:"put",data:t})}function l(t){return Object(o["a"])({url:"".concat(n["pfmcSettings"],"/pfmcBaseGroup/").concat(t),method:"delete"})}function u(t){return Object(o["a"])({url:"".concat(n["pfmcSettings"],"/pfmcBaseGroup/disablePfmcBaseGroup/").concat(t),method:"get"})}function p(t){return Object(o["a"])({url:"".concat(n["pfmcSettings"],"/pfmcBaseGroup/changeGroupState"),method:"put",data:t})}function m(t){return Object(o["a"])({url:"".concat(n["pfmcSettings"],"/pfmcBaseGroup/groupUsers"),method:"get",params:t})}},"4b36":function(t,e,r){},"542c":function(t,e,r){},"74b1":function(t,e,r){"use strict";r.d(e,"d",(function(){return a})),r.d(e,"c",(function(){return c})),r.d(e,"a",(function(){return i})),r.d(e,"e",(function(){return s})),r.d(e,"b",(function(){return l}));var o=r("b775"),n=r("365c");function a(t){return Object(o["a"])({url:"".concat(n["d"],"/position/list"),method:"get",params:t})}function c(t){return Object(o["a"])({url:"".concat(n["d"],"/position/").concat(t),method:"get"})}function i(t){return Object(o["a"])({url:"".concat(n["d"],"/position"),method:"post",data:t})}function s(t){return Object(o["a"])({url:"".concat(n["d"],"/position"),method:"put",data:t})}function l(t){return Object(o["a"])({url:"".concat(n["d"],"/position/").concat(t),method:"delete"})}},a7a5:function(t,e,r){"use strict";r.r(e);var o=function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("div",{staticClass:"pfmc-import-button-container"},[r("el-button",{attrs:{size:t.size,type:t.type,plain:t.plain,round:t.round,circle:t.circle,disabled:t.disabled,icon:t.icon},on:{click:t.btnClick}},[t._v(t._s(t.btnText))]),t._v(" "),r("el-dialog",{attrs:{title:t.title,visible:t.showDialog,"append-to-body":"","close-on-click-modal":!1,width:"900px"},on:{"update:visible":function(e){t.showDialog=e},open:t.open,close:t.cancel}},[r("el-form",{ref:"form",attrs:{name:"form",model:t.form,rules:t.rules,"label-width":"120px"}},[r("el-row",[r("el-col",{attrs:{span:24}},[r("div",{staticStyle:{"background-color":"rgb(220, 223, 230)",width:"100%","line-height":"30px",color:"rgb(96, 98, 102)","padding-left":"10px"}},[t._v("考核组名称")])]),t._v(" "),r("el-col",{staticStyle:{"margin-top":"10px"},attrs:{span:12}},[r("el-form-item",{attrs:{label:"考核组名称",prop:"groupName"}},[r("el-input",{attrs:{placeholder:"请输入考核组名称"},model:{value:t.form.groupName,callback:function(e){t.$set(t.form,"groupName",e)},expression:"form.groupName"}})],1)],1),t._v(" "),r("el-col",{staticStyle:{"margin-top":"10px"},attrs:{span:12}},[r("el-form-item",{attrs:{label:"考核周期类型",prop:"groupPeriodType"}},[r("el-select",{attrs:{placeholder:"请选择考核周期类型"},model:{value:t.form.groupPeriodType,callback:function(e){t.$set(t.form,"groupPeriodType",e)},expression:"form.groupPeriodType"}},t._l(t.groupPeriodTypeOptions,(function(t){return r("el-option",{key:t.dictValue,attrs:{label:t.dictLabel,value:t.dictValue}})})),1)],1)],1)],1),t._v(" "),r("el-row",{staticStyle:{"background-color":"rgb(220, 223, 230)",width:"100%","line-height":"30px",color:"rgb(96, 98, 102)","padding-left":"10px"}},[r("div",[t._v("考核组成员选择")])]),t._v(" "),r("el-row",{staticStyle:{"margin-top":"10px"}},[r("el-tabs",{attrs:{type:"border-card"}},[r("el-tab-pane",{attrs:{label:"查询员工"}},[r("el-form",{attrs:{"label-width":"100px"}},[r("el-row",[r("el-col",{attrs:{span:9}},[r("el-form-item",{attrs:{label:"员工编号"}},[r("el-input",{attrs:{clearable:""},model:{value:t.queryForm.empNumber,callback:function(e){t.$set(t.queryForm,"empNumber",e)},expression:"queryForm.empNumber"}})],1)],1),t._v(" "),r("el-col",{attrs:{span:9}},[r("el-form-item",{attrs:{label:"员工姓名"}},[r("el-input",{attrs:{clearable:""},model:{value:t.queryForm.empName,callback:function(e){t.$set(t.queryForm,"empName",e)},expression:"queryForm.empName"}})],1)],1),t._v(" "),r("el-col",{attrs:{span:6}},[r("div",{staticClass:"pfmc-btn-bar"},[r("el-button",{attrs:{type:"text"},on:{click:function(){t.isFastSearch=!t.isFastSearch}}},[t._v(t._s(t.isFastSearch?"高级查询":"快速查询"))]),t._v(" "),r("i",{class:[t.isFastSearch?"el-icon-arrow-down":"el-icon-arrow-up"]})],1)])],1),t._v(" "),r("el-row",{directives:[{name:"show",rawName:"v-show",value:!t.isFastSearch,expression:"!isFastSearch"}]},[r("el-col",{attrs:{span:9}},[r("el-form-item",{attrs:{label:"部门",prop:"deptIds"}},[r("tree-select",{attrs:{options:t.deptOptions,multiple:"",placeholder:"全部",clearable:"","max-height":200,"default-expand-level":1,"open-direction":"bellow"},model:{value:t.queryForm.deptIds,callback:function(e){t.$set(t.queryForm,"deptIds",e)},expression:"queryForm.deptIds"}})],1)],1),t._v(" "),r("el-col",{attrs:{span:9}},[r("el-form-item",{attrs:{label:"职位"}},[r("el-select",{attrs:{placeholder:"全部",clearable:""},model:{value:t.queryForm.posId,callback:function(e){t.$set(t.queryForm,"posId",e)},expression:"queryForm.posId"}},t._l(t.positionOptions,(function(t){return r("el-option",{key:t.positionId,attrs:{label:t.positionName,value:t.positionId}})})),1)],1)],1)],1),t._v(" "),r("el-row",[r("el-col",{staticClass:"text-align-right",attrs:{span:24}},[r("el-button",{attrs:{type:"primary",size:"small",icon:"el-icon-search"},on:{click:t.handleQueryEmp}},[t._v("查询")]),t._v(" "),r("el-button",{attrs:{type:"primary",plain:"",size:"small",icon:"el-icon-refresh-left"},on:{click:t.resetQueryForm}},[t._v("重置")])],1)],1)],1),t._v(" "),r("el-table",{ref:"searchTabel",attrs:{data:t.searchEmps,height:200},on:{select:t.singleSele,"select-all":t.allSels}},[r("el-table-column",{attrs:{type:"selection"}}),t._v(" "),r("el-table-column",{attrs:{type:"index",label:"序号"}}),t._v(" "),r("el-table-column",{attrs:{label:"员工编号",prop:"empNumber"}}),t._v(" "),r("el-table-column",{attrs:{label:"姓名",prop:"empName"}}),t._v(" "),r("el-table-column",{attrs:{label:"部门",prop:"orgName"}}),t._v(" "),r("el-table-column",{attrs:{label:"职位",prop:"positionName"}})],1),t._v(" "),r("pagination",{directives:[{name:"show",rawName:"v-show",value:t.total>0,expression:"total>0"}],staticClass:"pagination-wrap",attrs:{total:t.total,page:t.queryForm.pageNum,limit:t.queryForm.pageSize},on:{"update:page":function(e){return t.$set(t.queryForm,"pageNum",e)},"update:limit":function(e){return t.$set(t.queryForm,"pageSize",e)},pagination:t.handleQueryEmp}})],1),t._v(" "),r("el-tab-pane",{attrs:{label:"已选择成员"+t.form.groupUsers.length+"人"}},[r("el-table",{attrs:{data:t.form.groupUsers}},[r("el-table-column",{attrs:{type:"index",label:"序号"}}),t._v(" "),r("el-table-column",{attrs:{label:"员工编号",prop:"empNumber"}}),t._v(" "),r("el-table-column",{attrs:{label:"姓名",prop:"empName"}}),t._v(" "),r("el-table-column",{attrs:{label:"部门",prop:"orgName"}}),t._v(" "),r("el-table-column",{attrs:{label:"职位",prop:"positionName"}}),t._v(" "),r("el-table-column",{attrs:{label:"操作",width:"90",fixed:"right"},scopedSlots:t._u([{key:"default",fn:function(e){return[r("el-button",{attrs:{type:"text"},on:{click:function(r){return t.handleClearSel(e.row)}}},[t._v("删除")])]}}])})],1)],1)],1),t._v(" "),r("el-col",{attrs:{span:24}})],1)],1),t._v(" "),r("div",{staticClass:"dialog-footer text-align-right",staticStyle:{"margin-top":"10px"}},[r("el-button",{attrs:{plain:"",icon:"el-icon-close"},on:{click:t.cancel}},[t._v("取消")]),t._v(" "),r("el-button",{attrs:{type:"primary",icon:"el-icon-bank-card"},on:{click:t.submitForm}},[t._v("保存")])],1)],1)],1)},n=[],a=(r("ac6a"),r("5df3"),r("f400"),r("bd86")),c=r("4a47"),i=r("2879"),s=r("7026"),l=r.n(s),u=r("74b1"),p=(r("542c"),{name:"EditGroupDetail",components:{TreeSelect:l.a},props:{size:{type:String,required:!1},type:{type:String,default:"text"},plain:{type:Boolean,default:!1},round:{type:Boolean,default:!1},circle:{type:Boolean,default:!1},disabled:{type:Boolean,default:!1},icon:{type:String,default:""},btnText:{type:String,default:"编辑"},title:{type:String,default:"编辑考核组"},mode:{type:String,default:"edit"},groupId:{type:String,default:void 0},beforeCopy:{type:Function,default:null}},data:function(){var t;return t={loading:!1,isFastSearch:!0,total:0,showDialog:!1,groupPeriodTypeOptions:[],deptOptions:[],positionOptions:[],searchEmps:[]},Object(a["a"])(t,"total",0),Object(a["a"])(t,"queryForm",{deptIds:[],posId:void 0,empNumber:void 0,empName:void 0,pageNum:1,pageSize:10}),Object(a["a"])(t,"form",{groupName:void 0,groupPeriodType:void 0,groupUsers:[]}),Object(a["a"])(t,"currPagePreSelected",[]),Object(a["a"])(t,"rules",{groupName:[{required:!0,message:"考核组名称为空",trigger:"change"}],groupPeriodType:[{required:!0,message:"考核周期类型为空",trigger:"change"}]}),t},created:function(){var t=this;Object(i["treeselect"])().then((function(e){t.deptOptions=e.data})),Object(u["d"])().then((function(e){t.positionOptions=e.data.list})),this.getDicts("pfmc_basicsettings_cycle_type").then((function(e){t.groupPeriodTypeOptions=e.data}))},mounted:function(){},computed:{},methods:{btnClick:function(){if("copy"===this.mode&&this.beforeCopy){var t=this.beforeCopy();if(!t)return}this.showDialog=!0},open:function(){var t=this;"edit"!==this.mode&&"copy"!==this.mode||Object(c["getPfmcGroup"])(this.groupId).then((function(e){"0"===e.code?(t.form=e.data,"copy"===t.mode&&(t.form.groupId=void 0)):t.msgError("查询考核组信息失败")}))},close:function(){this.showDialog=!1},submitForm:function(){var t=this;this.$refs["form"].validate((function(e){if(e){if(0===t.form.groupUsers.length)return void t.msgError("考核组成员不能为空");"undefined"===typeof t.form.groupId?Object(c["addPfmcGroup"])(t.form).then((function(e){"0"===e.code?(t.msgSuccess("新增成功"),t.showDialog=!1,t.$emit("update-finished")):t.msgError(e.msg)})):Object(c["updatePfmcGroup"])(t.form).then((function(e){"0"===e.code?(t.msgSuccess("修改成功"),t.showDialog=!1,t.$emit("update-finished")):t.msgError(e.msg)}))}}))},cancel:function(){this.resetQueryForm(),this.resetForm(),this.showDialog=!1},singleSele:function(t,e){this.selsChange(t,[e])},allSels:function(t){this.selsChange(t)},selsChange:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[];t.length>this.currPagePreSelected.length?this.form.groupUsers=this.addSels(this.form.groupUsers,t):t.length>0&&0!==e.length?this.form.groupUsers=this.delUnSels(this.form.groupUsers,e):0===t.length&&(this.form.groupUsers=this.delUnSels(this.form.groupUsers,this.currPagePreSelected)),this.currPagePreSelected=t},addSels:function(t,e){var r=t.concat(e),o=new Map;r.forEach((function(t){return o.set(t.empId,t)}));var n=new Array;return o.forEach((function(t,e){n.push(t)})),n},delUnSels:function(t,e){return e.forEach((function(e,r){t.forEach((function(r,o){e.empId===r.empId&&t.splice(o,1)}))})),t},handleQueryEmp:function(){var t=this;Object(i["listEmp"])(this.queryForm).then((function(e){"0"===e.code?(t.total=e.data.total,t.searchEmps=e.data.list,t.$nextTick((function(){var t=this;this.currPagePreSelected=[],this.searchEmps.forEach((function(e,r){t.form.groupUsers.forEach((function(r,o){e.empId===r.empId&&(t.currPagePreSelected.push(e),t.$refs.searchTabel.toggleRowSelection(e,!0))}))}))}))):t.msgError(e.msg)}))},resetQueryForm:function(){this.queryForm={deptIds:[],posId:void 0,empNumber:void 0,empName:void 0,pageNum:1,pageSize:10}},handleClearSel:function(t){var e=this;this.form.groupUsers=this.form.groupUsers.filter((function(e){return e.empId!==t.empId})),this.searchEmps.forEach((function(r,o){r.empId===t.empId&&(e.$refs.searchTabel.toggleRowSelection(r,!1),e.currPagePreSelected=e.currPagePreSelected.filter((function(t){return t.empId!==r.empId})))}))},resetForm:function(){this.form={groupName:void 0,groupPeriodType:void 0,groupUsers:[]}}},watch:{}}),m=p,d=(r("db41"),r("2877")),f=Object(d["a"])(m,o,n,!1,null,"adf67196",null);e["default"]=f.exports},b854:function(t,e,r){"use strict";r.r(e),r.d(e,"pfmcSettings",(function(){return o})),r.d(e,"pfmcAsist",(function(){return n})),r.d(e,"pfmcExecution",(function(){return a})),r.d(e,"pfmcEval",(function(){return c}));var o="pfmc-settings",n="pfmc-asist",a="pfmc-execution",c="pfmc-eval"},db41:function(t,e,r){"use strict";var o=r("4b36"),n=r.n(o);n.a},f400:function(t,e,r){"use strict";var o=r("c26b"),n=r("b39a"),a="Map";t.exports=r("e0b8")(a,(function(t){return function(){return t(this,arguments.length>0?arguments[0]:void 0)}}),{get:function(t){var e=o.getEntry(n(this,a),t);return e&&e.v},set:function(t,e){return o.def(n(this,a),0===t?0:t,e)}},o,!0)}}]);