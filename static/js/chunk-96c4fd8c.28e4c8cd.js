(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-96c4fd8c","chunk-2d0a36f7","chunk-39cc9fd1","chunk-2d0d0632"],{"01bb":function(e,t,o){"use strict";o.r(t),o.d(t,"HRInterface",(function(){return r}));var r="hr-interface"},6882:function(e,t,o){"use strict";o.r(t);var r=function(){var e=this,t=e.$createElement,o=e._self._c||t;return o("el-dialog",{attrs:{visible:e.showModal,title:(e.isAdd?"新增":"修改")+"定时任务","close-on-click-modal":!1},on:{"update:visible":function(t){e.showModal=t},closed:e.$_onClose}},[o("el-form",{ref:"editForm",attrs:{rules:e.editRules,model:e.editForm,"label-width":"150px","label-position":"right"}},[o("el-form-item",{attrs:{label:"任务名称(英文)：",prop:"jobName"}},[o("el-input",{attrs:{placeholder:"请输入任务名称",disabled:!e.isAdd},model:{value:e.editForm.jobName,callback:function(t){e.$set(e.editForm,"jobName","string"===typeof t?t.trim():t)},expression:"editForm.jobName"}})],1),e._v(" "),o("el-form-item",{attrs:{label:"任务说明(中文)：",prop:"jobDescription"}},[o("el-input",{attrs:{placeholder:"请输入任务说明"},model:{value:e.editForm.jobDescription,callback:function(t){e.$set(e.editForm,"jobDescription","string"===typeof t?t.trim():t)},expression:"editForm.jobDescription"}})],1),e._v(" "),o("el-form-item",{attrs:{label:"执行类：",prop:"jobClassName"}},[o("el-input",{attrs:{placeholder:"请输入执行类"},model:{value:e.editForm.jobClassName,callback:function(t){e.$set(e.editForm,"jobClassName","string"===typeof t?t.trim():t)},expression:"editForm.jobClassName"}})],1),e._v(" "),o("el-form-item",{attrs:{label:"触发器名称(英文)：",prop:"triggerName"}},[o("el-input",{attrs:{placeholder:"请输入触发器名称",disabled:!e.isAdd},model:{value:e.editForm.triggerName,callback:function(t){e.$set(e.editForm,"triggerName","string"===typeof t?t.trim():t)},expression:"editForm.triggerName"}})],1),e._v(" "),o("el-form-item",{attrs:{label:"cron表达式：",prop:"cronExpression"}},[o("el-input",{attrs:{placeholder:"请输入cron表达式"},model:{value:e.editForm.cronExpression,callback:function(t){e.$set(e.editForm,"cronExpression","string"===typeof t?t.trim():t)},expression:"editForm.cronExpression"}})],1)],1),e._v(" "),o("div",{attrs:{slot:"footer"},slot:"footer"},[o("el-button",{on:{click:e.$_closeModal}},[e._v("取消")]),e._v(" "),o("el-button",{attrs:{type:"primary",loading:e.isSaving},on:{click:e.$_onModalConfirm}},[e._v("确定")])],1)],1)},i=[],s=o("b4a8");function n(){return{jobName:"",jobDescription:"",triggerName:"",jobClassName:"",cronExpression:""}}var a={props:{show:{type:Boolean,required:!0},job:{type:Object}},data:function(){return{showModal:!1,isSaving:!1,successFlag:!1,editForm:n(),editRules:{jobName:[{required:!0,message:"任务名称不能为空"}],jobDescription:[{required:!0,message:"任务说明不能为空"}],triggerName:[{required:!0,message:"触发器名称不能为空"}],jobClassName:[{required:!0,message:"执行类不能为空"}],cronExpression:[{required:!0,message:"cron表达式不能为空"}]}}},computed:{isAdd:function(){return!(this.job&&this.job.jobName)}},watch:{show:function(e,t){this.showModal=e,e&&(this.successFlag=!1,Object.assign(this.editForm,this.job||n()))}},methods:{$_onModalConfirm:function(){var e=this;this.isSaving||this.$refs.editForm.validate((function(t){t&&(e.isSaving=!0,Object(s["saveJob"])(e.editForm,e.isAdd).then((function(t){"0"===t.code?(e.msgSuccess("操作成功"),e.successFlag=!0,e.showModal=!1):e.$notify.error({title:"服务调用异常",message:t.msg})})).catch((function(t){e.$notify.error({title:"网络错误",message:t.message})})).finally((function(){e.isSaving=!1})))}))},$_closeModal:function(){this.showModal=!1},$_onClose:function(){this.editForm=n(),this.$emit("close-editor",this.successFlag)}}},c=a,l=o("2877"),u=Object(l["a"])(c,r,i,!1,null,null,null);t["default"]=u.exports},b4a8:function(e,t,o){"use strict";o.r(t),o.d(t,"getJobList",(function(){return s})),o.d(t,"saveJob",(function(){return n})),o.d(t,"delJob",(function(){return a})),o.d(t,"pauseJob",(function(){return c})),o.d(t,"resumeJob",(function(){return l}));var r=o("b775"),i=o("01bb");function s(){return Object(r["a"])({url:"".concat(i["HRInterface"],"/quartz/list"),method:"get"})}function n(e,t){return Object(r["a"])({url:"".concat(i["HRInterface"],"/quartz/job"),method:t?"post":"put",data:e})}function a(e){return Object(r["a"])({url:"".concat(i["HRInterface"],"/quartz/job"),method:"delete",params:{jobName:e}})}function c(e){return Object(r["a"])({url:"".concat(i["HRInterface"],"/quartz/pausing"),method:"post",params:{jobName:e}})}function l(e){return Object(r["a"])({url:"".concat(i["HRInterface"],"/quartz/resume"),method:"post",params:{jobName:e}})}}}]);