(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-0edcf426","chunk-2d21062b","chunk-10db1c36","chunk-079c1a24","chunk-2d21062b"],{"17a1":function(t,e,n){"use strict";n.r(e);var a=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"ihr-wrapper"},[n("div",{staticClass:"top-query"},[n("el-form",{attrs:{model:t.queryParams,"label-width":"100px"}},[n("el-row",[n("el-col",{attrs:{span:8}},[n("el-form-item",{attrs:{label:"测评问卷名称",prop:"questionName"}},[n("el-input",{attrs:{clearable:""},model:{value:t.queryParams.groupName,callback:function(e){t.$set(t.queryParams,"groupName",e)},expression:"queryParams.groupName"}})],1)],1),t._v(" "),n("el-col",{attrs:{span:6}},[n("el-form-item",{attrs:{label:"测评对象类型",prop:"evalOjbectType"}},[n("el-select",{attrs:{clearable:"",placeholder:"全部"},model:{value:t.queryParams.evalOjbectType,callback:function(e){t.$set(t.queryParams,"evalOjbectType",e)},expression:"queryParams.evalOjbectType"}},t._l(t.evalOjbectTypeOptions,(function(t){return n("el-option",{key:t.dictValue,attrs:{label:t.dictLabel,value:t.dictValue}})})),1)],1)],1),t._v(" "),n("el-col",{attrs:{span:6}},[n("el-form-item",{attrs:{label:"状态",prop:"status"}},[n("el-select",{attrs:{clearable:"",placeholder:"全部"},model:{value:t.queryParams.status,callback:function(e){t.$set(t.queryParams,"status",e)},expression:"queryParams.status"}},t._l(t.statusOptions,(function(t){return n("el-option",{key:t.dictValue,attrs:{label:t.dictLabel,value:t.dictValue}})})),1)],1)],1)],1)],1),t._v(" "),n("div",[n("el-button",{attrs:{type:"primary",icon:"el-icon-search"},on:{click:t.handleQuery}},[t._v("查询")]),t._v(" "),n("el-button",{attrs:{type:"primary",plain:"",icon:"el-icon-refresh-left"},on:{click:t.handleReset}},[t._v("重置")])],1)],1),t._v(" "),n("div",{staticClass:"main-table"},[n("div",{staticClass:"button-flex"},[n("update-question",{attrs:{isAdd:"",btnText:"新增",icon:"el-icon-plus"}}),t._v(" "),n("el-button",{attrs:{type:"danger",disabled:0===t.selectedList.length},on:{click:t.handleBatchDel}},[t._v("删除")])],1),t._v(" "),n("el-table",{attrs:{data:t.questionList},on:{"selection-change":t.seleChange}},[n("el-table-column",{attrs:{type:"selection"}}),t._v(" "),n("el-table-column",{attrs:{type:"index",label:"序号"}}),t._v(" "),n("el-table-column",{attrs:{label:"测评问卷名称",prop:"questionName","show-overflow-tooltip":""}}),t._v(" "),n("el-table-column",{attrs:{label:"测评对象类型",prop:"evalObjectType",formatter:t.evalObjectTypeFormat}}),t._v(" "),n("el-table-column",{attrs:{label:"状态",prop:"status"},scopedSlots:t._u([{key:"default",fn:function(e){return[n("el-switch",{attrs:{"on-value":1,"off-value":0},on:{change:function(n){return t.statusChange(e.row)}},model:{value:e.row.status,callback:function(n){t.$set(e.row,"status",n)},expression:"scope.row.status"}})]}}])}),t._v(" "),n("el-table-column",{attrs:{label:"操作",fixed:"right",width:"100"},scopedSlots:t._u([{key:"default",fn:function(e){return[n("el-popconfirm",{staticClass:"el-button-confirm",attrs:{title:"您确定要删除吗？"},on:{onConfirm:function(n){return t.handleDel(e.row)}}},[n("el-button",{attrs:{slot:"reference",type:"text"},slot:"reference"},[t._v("删除")])],1)]}}])})],1),t._v(" "),n("pagination",{directives:[{name:"show",rawName:"v-show",value:t.total>0,expression:"total>0"}],staticClass:"pagination-wrap",attrs:{total:t.total,page:t.queryParams.pageNum,limit:t.queryParams.pageSize},on:{"update:page":function(e){return t.$set(t.queryParams,"pageNum",e)},"update:limit":function(e){return t.$set(t.queryParams,"pageSize",e)},pagination:t.getGroupList}})],1)])},r=[],c=n("2879"),o=n("f06f"),u=(n("542c"),{components:{TreeSelect:function(){return n.e("chunk-5c5c1f08").then(n.t.bind(null,"7026",7))},UpdateQuestion:function(){return n.e("chunk-7ae718a6").then(n.bind(null,"1226"))}},data:function(){return{loading:!0,total:0,queryParams:{gorupName:void 0,evalOjbectType:"emp",status:void 0,pageNum:1,pageSize:10},statusOptions:[],evalOjbectTypeOptions:[],questionList:[],selectedList:[]}},created:function(){var t=this;this.getDicts("sys_normal_status").then((function(e){t.statusOptions=e.data})),this.getDicts("pfmc_eval_object_type").then((function(e){t.evalOjbectTypeOptions=e.data}))},methods:{statusChange:function(){},evalObjectTypeFormat:function(t,e){return this.selectDictLabel(this.evalOjbectTypeOptions,t.evalOjbectType)},handleBatchDel:function(){var t=this;this.$confirm("确认删除选中的测评小组？").then((function(e){t.loading=!0;var n=t.selectedList.map((function(t){return t.groupId})).join(),a={groupIds:n};Object(o["batchDelGroup"])(a).then((function(e){t.loading=!1,"0"===e.code?(t.msgSuccess("删除成功"),t.getGroupList()):t.msgError(e.msg)}))})).catch((function(){}))},handleDel:function(t){var e=this;Object(o["delGroup"])(t.groupId).then((function(t){e.loading=!1,"0"===t.code?(e.msgSuccess("删除成功"),e.getGroupList()):e.msgError(t.msg)})).catch((function(t){e.loading=!1,e.msgError(t)}))},handleQuery:function(){this.queryParams.pageNum=1,this.getGroupList()},getGroupList:function(){var t=this;this.loading=!0,Object(o["listGroup"])(this.queryParams).then((function(e){t.loading=!1,"0"===e.code?t.groupList=e.data.list:t.msgError(e.msg)}))},handleReset:function(){this.queryParams={gorupName:void 0,orgId:void 0,pageNum:1,pageSize:10}},seleChange:function(t){this.selectedList=t},getOrgTreeselect:function(){var t=this;Object(c["treeselect"])().then((function(e){t.orgOptions=e.data}))}},computed:{},watch:{}}),s=u,l=n("2877"),i=Object(l["a"])(s,a,r,!1,null,"d079442c",null);e["default"]=i.exports},2879:function(t,e,n){"use strict";n.r(e),n.d(e,"treeselect",(function(){return c})),n.d(e,"selectPfmcEmpList",(function(){return o})),n.d(e,"addPfmcOrg",(function(){return u})),n.d(e,"updatePfmcOrg",(function(){return s})),n.d(e,"delPfmcOrg",(function(){return l})),n.d(e,"searchEmp",(function(){return i})),n.d(e,"addEmpToOrg",(function(){return p})),n.d(e,"updatePfmcEmp",(function(){return m})),n.d(e,"delPfmcEmp",(function(){return f})),n.d(e,"batchTransferEmp",(function(){return d})),n.d(e,"listEmpNameOrNumber",(function(){return h})),n.d(e,"batchUpdateEmpStatus",(function(){return b})),n.d(e,"listEmp",(function(){return g})),n.d(e,"delOrgCheck",(function(){return v}));var a=n("b775"),r=n("b854");function c(){return Object(a["a"])({url:"".concat(r["pfmcAsist"],"/pfmcOrgEmp/treeselect"),method:"get"})}function o(t){return Object(a["a"])({url:"".concat(r["pfmcAsist"],"/pfmcOrgEmp/listEmpByOrgId"),method:"get",params:t})}function u(t){return Object(a["a"])({url:"".concat(r["pfmcAsist"],"/pfmcOrgEmp"),method:"post",data:t})}function s(t){return Object(a["a"])({url:"".concat(r["pfmcAsist"],"/pfmcOrgEmp"),method:"put",data:t})}function l(t){return Object(a["a"])({url:"".concat(r["pfmcAsist"],"/pfmcOrgEmp/deleteOrg/").concat(t),method:"delete"})}function i(t){return Object(a["a"])({url:"".concat(r["pfmcAsist"],"/pfmcOrgEmp/searchEmp"),method:"get",params:t})}function p(t){return Object(a["a"])({url:"".concat(r["pfmcAsist"],"/pfmcOrgEmp/updateEmpOfOrg"),method:"get",params:t})}function m(t){return Object(a["a"])({url:"".concat(r["pfmcAsist"],"/pfmcOrgEmp/updateEmp"),method:"post",data:t})}function f(t){return Object(a["a"])({url:"".concat(r["pfmcAsist"],"/pfmcOrgEmp/deleteEmp/").concat(t),method:"delete"})}function d(t){return Object(a["a"])({url:"".concat(r["pfmcAsist"],"/pfmcOrgEmp/batchTransferEmp"),method:"post",data:t})}function h(t){return Object(a["a"])({url:"".concat(r["pfmcAsist"],"/pfmcOrgEmp/listEmpNameOrNumber"),method:"get",params:t})}function b(t){return Object(a["a"])({url:"".concat(r["pfmcAsist"],"/pfmcOrgEmp/batchUpdateEmpStatus"),method:"post",data:t})}function g(t){return Object(a["a"])({url:"".concat(r["pfmcAsist"],"/pfmcOrgEmp/listEmp"),method:"post",data:t})}function v(t){return Object(a["a"])({url:"".concat(r["pfmcAsist"],"/pfmcOrgEmp/delOrgCheck/").concat(t),method:"delete"})}},"542c":function(t,e,n){},b854:function(t,e,n){"use strict";n.r(e),n.d(e,"pfmcSettings",(function(){return a})),n.d(e,"pfmcAsist",(function(){return r})),n.d(e,"pfmcExecution",(function(){return c})),n.d(e,"pfmcEval",(function(){return o}));var a="pfmc-settings",r="pfmc-asist",c="pfmc-execution",o="pfmc-eval"},f06f:function(t,e,n){"use strict";n.r(e),n.d(e,"listGroup",(function(){return c})),n.d(e,"getGroupInfoById",(function(){return o})),n.d(e,"addGroup",(function(){return u})),n.d(e,"updateGroup",(function(){return s})),n.d(e,"delGroup",(function(){return l})),n.d(e,"batchDelGroup",(function(){return i}));var a=n("b775"),r=n("b854");function c(t){return Object(a["a"])({url:"".concat(r["pfmcEval"],"/pfmcEvalGroup/listGroup"),method:"get",params:t})}function o(t){return Object(a["a"])({url:"".concat(r["pfmcEval"],"/pfmcEvalGroup/getGroupInfoById/").concat(t),method:"get"})}function u(t){return Object(a["a"])({url:"".concat(r["pfmcEval"],"/pfmcEvalGroup/addGroup"),method:"post",data:t})}function s(t){return Object(a["a"])({url:"".concat(r["pfmcEval"],"/pfmcEvalGroup/updateGroup"),method:"put",data:t})}function l(t){return Object(a["a"])({url:"".concat(r["pfmcEval"],"/pfmcEvalGroup/delGroup/").concat(t),method:"delete"})}function i(t){return Object(a["a"])({url:"".concat(r["pfmcEval"],"/pfmcEvalGroup/batchDelGroup"),method:"delete",data:t})}}}]);