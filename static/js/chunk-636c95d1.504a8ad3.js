(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-636c95d1","chunk-2d21062b","chunk-10db1c36","chunk-2d21062b","chunk-0af4c832"],{2879:function(t,e,n){"use strict";n.r(e),n.d(e,"treeselect",(function(){return o})),n.d(e,"selectPfmcEmpList",(function(){return i})),n.d(e,"addPfmcOrg",(function(){return a})),n.d(e,"updatePfmcOrg",(function(){return d})),n.d(e,"delPfmcOrg",(function(){return u})),n.d(e,"searchEmp",(function(){return s})),n.d(e,"addEmpToOrg",(function(){return f})),n.d(e,"updatePfmcEmp",(function(){return m})),n.d(e,"delPfmcEmp",(function(){return p})),n.d(e,"batchTransferEmp",(function(){return l})),n.d(e,"listEmpNameOrNumber",(function(){return g})),n.d(e,"batchUpdateEmpStatus",(function(){return h})),n.d(e,"listEmp",(function(){return O})),n.d(e,"delOrgCheck",(function(){return b}));var r=n("b775"),c=n("b854");function o(){return Object(r["a"])({url:"".concat(c["pfmcAsist"],"/pfmcOrgEmp/treeselect"),method:"get"})}function i(t){return Object(r["a"])({url:"".concat(c["pfmcAsist"],"/pfmcOrgEmp/listEmpByOrgId"),method:"get",params:t})}function a(t){return Object(r["a"])({url:"".concat(c["pfmcAsist"],"/pfmcOrgEmp"),method:"post",data:t})}function d(t){return Object(r["a"])({url:"".concat(c["pfmcAsist"],"/pfmcOrgEmp"),method:"put",data:t})}function u(t){return Object(r["a"])({url:"".concat(c["pfmcAsist"],"/pfmcOrgEmp/deleteOrg/").concat(t),method:"delete"})}function s(t){return Object(r["a"])({url:"".concat(c["pfmcAsist"],"/pfmcOrgEmp/searchEmp"),method:"get",params:t})}function f(t){return Object(r["a"])({url:"".concat(c["pfmcAsist"],"/pfmcOrgEmp/updateEmpOfOrg"),method:"get",params:t})}function m(t){return Object(r["a"])({url:"".concat(c["pfmcAsist"],"/pfmcOrgEmp/updateEmp"),method:"post",data:t})}function p(t){return Object(r["a"])({url:"".concat(c["pfmcAsist"],"/pfmcOrgEmp/deleteEmp/").concat(t),method:"delete"})}function l(t){return Object(r["a"])({url:"".concat(c["pfmcAsist"],"/pfmcOrgEmp/batchTransferEmp"),method:"post",data:t})}function g(t){return Object(r["a"])({url:"".concat(c["pfmcAsist"],"/pfmcOrgEmp/listEmpNameOrNumber"),method:"get",params:t})}function h(t){return Object(r["a"])({url:"".concat(c["pfmcAsist"],"/pfmcOrgEmp/batchUpdateEmpStatus"),method:"post",data:t})}function O(t){return Object(r["a"])({url:"".concat(c["pfmcAsist"],"/pfmcOrgEmp/listEmp"),method:"post",data:t})}function b(t){return Object(r["a"])({url:"".concat(c["pfmcAsist"],"/pfmcOrgEmp/delOrgCheck/").concat(t),method:"delete"})}},"542c":function(t,e,n){},"7f22":function(t,e,n){"use strict";var r=n("eea2"),c=n.n(r);c.a},"95da":function(t,e,n){"use strict";n.r(e);var r=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"pfmc-import-button-container"},[n("el-button",{attrs:{size:t.size,type:t.type,plain:t.plain,round:t.round,circle:t.circle,disabled:t.disabled,icon:t.icon},on:{click:t.btnClick}},[t._v(t._s(t.btnText?t.btnText:t.isAdd?"新增部门":"修改部门"))]),t._v(" "),n("el-dialog",{ref:"updateOrgDialog",attrs:{visible:t.showDialog,title:t.title?t.title:t.isAdd?"新增部门":"修改部门","close-on-click-modal":!1,"append-to-body":"",width:"500px"},on:{"update:visible":function(e){t.showDialog=e}}},[n("el-form",{ref:"updateOrgForm",attrs:{model:t.form,rules:t.rules,"label-width":"100px"}},[n("el-form-item",{attrs:{label:t.isAdd?"所属父组织":"原组织名称",prop:"orgId"}},[n("tree-select",{attrs:{options:t.deptOptions,placeholder:"选择部门",disabled:!t.isAdd,"default-expand-level":1},model:{value:t.form.orgId,callback:function(e){t.$set(t.form,"orgId",e)},expression:"form.orgId"}})],1),t._v(" "),n("el-form-item",{attrs:{label:"部门名称",prop:"orgName"}},[n("el-input",{model:{value:t.form.orgName,callback:function(e){t.$set(t.form,"orgName",e)},expression:"form.orgName"}})],1)],1),t._v(" "),n("div",{attrs:{slot:"footer"},slot:"footer"},[n("el-button",{attrs:{plain:"",icon:"el-icon-close"},on:{click:t.handleCancel}},[t._v("取消")]),t._v(" "),n("el-button",{attrs:{type:"primary",icon:"el-icon-bank-card"},on:{click:t.sureBtnClick}},[t._v("确定")])],1)],1)],1)},c=[],o=n("7026"),i=n.n(o),a=(n("542c"),n("2879")),d={name:"UpdateOrg",components:{TreeSelect:i.a},props:{size:{type:String,required:!1},type:{type:String,default:"primary"},plain:{type:Boolean,default:!1},round:{type:Boolean,default:!1},circle:{type:Boolean,default:!1},disabled:{type:Boolean,default:!1},icon:{type:String,default:"el-icon-plus"},btnText:{type:String,default:void 0},title:{type:String,default:void 0},isAdd:{type:Boolean,default:!1},orgId:{type:String,default:void 0}},data:function(){return{loading:!1,total:0,showDialog:!1,deptOptions:void 0,form:{orgId:void 0,orgName:void 0},rules:{orgId:[{required:!0,message:"所属父组织为空",trigger:"change"}],orgName:[{required:!0,message:"部门名称为空",trigger:"change"}]}}},created:function(){},mounted:function(){},computed:{},methods:{getTreeselect:function(){var t=this;Object(a["treeselect"])().then((function(e){t.deptOptions=e.data}))},btnClick:function(){this.isAdd||"undefined"!==typeof this.orgId?(this.getTreeselect(),this.form.orgId=this.orgId,this.showDialog=!0):this.msgError("请选择要修改的部门")},sureBtnClick:function(){this.isAdd?this.handleAddOrg():this.handleModifyOrg()},handleAddOrg:function(){var t=this;this.$refs.updateOrgForm.validate((function(e){e&&t.$confirm("确认新增绩效组织?","警告",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then((function(){var e={parentOrgId:t.form.orgId,orgName:t.form.orgName};return t.addOrgInfo(e)})).catch((function(){}))}))},addOrgInfo:function(t){var e=this;Object(a["addPfmcOrg"])(t).then((function(t){"0"===t.code?(e.msgSuccess("新增成功"),e.$refs.updateOrgForm.resetFields(),e.$emit("update-finished"),e.showDialog=!1):e.msgError(t.msg)}))},handleModifyOrg:function(){var t=this;this.$refs.updateOrgForm.validate((function(e){e&&t.$confirm("确认修改绩效组织?","警告",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then((function(){var e={orgId:t.form.orgId,orgName:t.form.orgName};return t.updateOrgInfo(e)})).catch((function(){}))}))},updateOrgInfo:function(t){var e=this;Object(a["updatePfmcOrg"])(t).then((function(t){"0"===t.code?(e.msgSuccess("修改成功"),e.$refs.updateOrgForm.resetFields(),e.$emit("update-finished"),e.showDialog=!1):e.msgError(t.msg)}))},handleCancel:function(){this.$refs.updateOrgForm.resetFields(),this.showDialog=!1}},watch:{}},u=d,s=(n("7f22"),n("2877")),f=Object(s["a"])(u,r,c,!1,null,"715e2f0d",null);e["default"]=f.exports},b854:function(t,e,n){"use strict";n.r(e),n.d(e,"pfmcSettings",(function(){return r})),n.d(e,"pfmcAsist",(function(){return c})),n.d(e,"pfmcExecution",(function(){return o})),n.d(e,"pfmcEval",(function(){return i}));var r="pfmc-settings",c="pfmc-asist",o="pfmc-execution",i="pfmc-eval"},eea2:function(t,e,n){}}]);