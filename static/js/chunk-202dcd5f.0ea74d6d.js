(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-202dcd5f","chunk-2d21062b","chunk-142d866f","chunk-bb07ed0a","chunk-2d21062b"],{"304f":function(t,e,c){"use strict";c.r(e),c.d(e,"listPfmcCycle",(function(){return r})),c.d(e,"getPfmcCycle",(function(){return i})),c.d(e,"addPfmcCycle",(function(){return a})),c.d(e,"updatePfmcCycle",(function(){return l})),c.d(e,"batchAddPfmcCycle",(function(){return u}));var n=c("b775"),o=c("b854");function r(t){return Object(n["a"])({url:"".concat(o["pfmcSettings"],"/pfmccycle/list"),method:"get",params:t})}function i(t){return Object(n["a"])({url:"".concat(o["pfmcSettings"],"/pfmccycle/").concat(t),method:"get"})}function a(t){return Object(n["a"])({url:"".concat(o["pfmcSettings"],"/pfmccycle/add"),method:"post",data:t})}function l(t){return Object(n["a"])({url:"".concat(o["pfmcSettings"],"/pfmccycle/update"),method:"put",data:t})}function u(t){return Object(n["a"])({url:"".concat(o["pfmcSettings"],"/pfmccycle/batchAdd"),method:"post",data:t})}},b854:function(t,e,c){"use strict";c.r(e),c.d(e,"pfmcSettings",(function(){return n})),c.d(e,"pfmcAsist",(function(){return o})),c.d(e,"pfmcExecution",(function(){return r})),c.d(e,"pfmcEval",(function(){return i}));var n="pfmc-settings",o="pfmc-asist",r="pfmc-execution",i="pfmc-eval"},e31f:function(t,e,c){"use strict";c.r(e),c.d(e,"listPfmcRelation",(function(){return r})),c.d(e,"getPfmcRelation",(function(){return i})),c.d(e,"addPfmcRelation",(function(){return a})),c.d(e,"updatePfmcRelation",(function(){return l})),c.d(e,"deletePfmcRelation",(function(){return u})),c.d(e,"batchDelRelation",(function(){return d})),c.d(e,"batchAddPfmcRelation",(function(){return s})),c.d(e,"recordCopyRelation",(function(){return f})),c.d(e,"noRecordCopyRelation",(function(){return p}));var n=c("b775"),o=c("b854");function r(t){return Object(n["a"])({url:"".concat(o["pfmcSettings"],"/pfmcrelation/list"),method:"post",data:t})}function i(t){return Object(n["a"])({url:"".concat(o["pfmcSettings"],"/pfmcrelation/").concat(t),method:"get"})}function a(t){return Object(n["a"])({url:"".concat(o["pfmcSettings"],"/pfmcrelation/add"),method:"post",data:t})}function l(t){return Object(n["a"])({url:"".concat(o["pfmcSettings"],"/pfmcrelation/update"),method:"put",data:t})}function u(t){return Object(n["a"])({url:"".concat(o["pfmcSettings"],"/pfmcrelation/delete"),method:"put",data:t})}function d(t){return Object(n["a"])({url:"".concat(o["pfmcSettings"],"/pfmcrelation/batchdel"),method:"put",data:t})}function s(t){return Object(n["a"])({url:"".concat(o["pfmcSettings"],"/pfmcrelation/batchAdd"),method:"post",data:t})}function f(t){return Object(n["a"])({url:"".concat(o["pfmcSettings"],"/pfmcrelation/recordCopy"),method:"post",data:t})}function p(t){return Object(n["a"])({url:"".concat(o["pfmcSettings"],"/pfmcrelation/noRecordCopy"),method:"post",data:t})}},e385:function(t,e,c){"use strict";c.r(e);var n=function(){var t=this,e=t.$createElement,c=t._self._c||e;return c("div",{staticClass:"app-container"},[c("el-dialog",{attrs:{title:"复制考核关系",visible:t.show,width:"960px","close-on-click-modal":!1},on:{"update:visible":function(e){t.show=e},close:t.cancel}},[c("el-form",{ref:"recordCopyForm",attrs:{inline:!0,model:t.recordCopyForm,rules:t.rules,"label-width":"88px"}},[c("el-form-item",{attrs:{label:"年份",prop:"year"}},[c("el-date-picker",{attrs:{type:"year",placeholder:"请选择年份",width:"4px"},on:{change:t.getCycleList},model:{value:t.recordCopyForm.year,callback:function(e){t.$set(t.recordCopyForm,"year",e)},expression:"recordCopyForm.year"}})],1),t._v(" "),c("el-form-item",{attrs:{label:"考核周期",prop:"newCycleId"}},[c("el-select",{attrs:{placeholder:"选择考核周期"},model:{value:t.recordCopyForm.newCycleId,callback:function(e){t.$set(t.recordCopyForm,"newCycleId",e)},expression:"recordCopyForm.newCycleId"}},t._l(t.cycleOptions,(function(t){return c("el-option",{key:t.cycleId,attrs:{label:t.cycleName,value:t.cycleId}})})),1)],1)],1),t._v(" "),c("div",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[c("el-button",{attrs:{plain:"",icon:"el-icon-close"},on:{click:t.cancel}},[t._v("取消")]),t._v(" "),c("el-button",{attrs:{type:"primary",icon:"el-icon-bank-card"},on:{click:function(e){t.dialogVisible=!0}}},[t._v("保存")])],1)],1),t._v(" "),c("el-dialog",{directives:[{name:"loading",rawName:"v-loading",value:t.loading,expression:"loading"}],attrs:{title:"提示",visible:t.dialogVisible,width:"30%"},on:{"update:visible":function(e){t.dialogVisible=e}}},[c("span",[t._v("是否覆盖已有数据？")]),t._v(" "),c("span",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[c("el-button",{on:{click:function(e){return t.submitForm("insert")}}},[t._v("否")]),t._v(" "),c("el-button",{attrs:{type:"primary"},on:{click:function(e){return t.submitForm("update")}}},[t._v("是")])],1)])],1)},o=[],r=c("e31f"),i=c("304f"),a={props:{visible:{type:Boolean,default:!1},relationIds:{type:String,default:""}},data:function(){return{show:!1,loading:!0,dialogVisible:!1,empTotal:0,evalPerTotal:0,cycleOptions:[],recordCopyForm:{newCycleId:void 0,relationIds:""},rules:{year:[{required:!0,message:"年份不能为空",trigger:"blur"}],newCycleId:[{required:!0,message:"考核周期不能为空",trigger:"blur"}]}}},created:function(){},methods:{getCycleList:function(){var t=this;this.recordCopyForm.newCycleId="";var e={cycleYear:this.recordCopyForm.year.getFullYear(),pageNum:1,pageSize:0};Object(i["listPfmcCycle"])(e).then((function(e){"0"===e.code?t.cycleOptions=e.data.list:t.msgError("查询考核周期列表失败")})).catch((function(e){t.msgError(e)}))},cancel:function(){this.show=!1,this.reset()},reset:function(){this.resetForm("recordCopyForm")},submitForm:function(t){var e=this;this.$refs["recordCopyForm"].validate((function(c){c&&(e.dialogVisible=!1,e.loading=!0,e.recordCopyForm.relationIds=e.relationIds,e.recordCopyForm.copyType=t,Object(r["recordCopyRelation"])(e.recordCopyForm).then((function(t){e.loading=!1,"0"===t.code?(e.msgSuccess("复制成功"),e.cancel()):e.msgError(t.msg)})))}))}},watch:{show:function(){0==this.show&&this.$emit("update:visible",!1)},visible:function(){this.show=this.visible}}},l=a,u=c("2877"),d=Object(u["a"])(l,n,o,!1,null,null,null);e["default"]=d.exports}}]);