(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-9bb03ef8","chunk-2d21062b","chunk-10db1c36","chunk-079c1a24","chunk-2d21062b"],{2060:function(t,e,r){"use strict";r.r(e);var n=function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("div",{staticClass:"ihr-wrapper"},[r("div",{staticClass:"top-query"},[r("el-form",{attrs:{model:t.queryParams,"label-width":"100px"}},[r("el-row",[r("el-col",{attrs:{span:10}},[r("el-form-item",{attrs:{label:"测评小组名称",prop:"gorupName"}},[r("el-input",{attrs:{clearable:""},model:{value:t.queryParams.groupName,callback:function(e){t.$set(t.queryParams,"groupName",e)},expression:"queryParams.groupName"}})],1)],1),t._v(" "),r("el-col",{attrs:{span:10}},[r("el-form-item",{attrs:{label:"所属部门",prop:"orgId"}},[r("tree-select",{attrs:{options:t.orgOptions,placeholder:"全部","default-expand-level":1},model:{value:t.queryParams.orgId,callback:function(e){t.$set(t.queryParams,"orgId",e)},expression:"queryParams.orgId"}})],1)],1)],1)],1),t._v(" "),r("div",[r("el-button",{attrs:{type:"primary",icon:"el-icon-search"},on:{click:t.handleQuery}},[t._v("查询")]),t._v(" "),r("el-button",{attrs:{type:"primary",plain:"",icon:"el-icon-refresh-left"},on:{click:t.handleReset}},[t._v("重置")])],1)],1),t._v(" "),r("div",{staticClass:"main-table"},[r("div",{staticClass:"button-flex"},[r("update-group",{attrs:{isAdd:"",title:"新增测评小组",btnText:"新增"},on:{"update-finish":t.getGroupList}}),t._v(" "),r("el-button",{attrs:{type:"danger",disabled:0===t.selectedList.length},on:{click:t.handleBatchDel}},[t._v("删除")])],1),t._v(" "),r("el-table",{attrs:{data:t.groupList},on:{"selection-change":t.seleChange}},[r("el-table-column",{attrs:{type:"selection"}}),t._v(" "),r("el-table-column",{attrs:{type:"index",label:"序号"}}),t._v(" "),r("el-table-column",{attrs:{label:"测评小组名称",prop:"groupName","show-overflow-tooltip":""}}),t._v(" "),r("el-table-column",{attrs:{label:"成员明细",prop:"memberNames","show-overflow-tooltip":""},scopedSlots:t._u([{key:"default",fn:function(t){return[r("view-group",{attrs:{"group-id":t.row.groupId,btnText:t.row.memberNames}})]}}])}),t._v(" "),r("el-table-column",{attrs:{label:"所属部门",prop:"orgName","show-overflow-tooltip":""}}),t._v(" "),r("el-table-column",{attrs:{label:"操作",fixed:"right",width:"100"},scopedSlots:t._u([{key:"default",fn:function(e){return[r("update-group",{attrs:{type:"text",icon:"",plain:!1,"group-id":e.row.groupId},on:{"update-finish":t.getGroupList}}),t._v(" "),r("el-popconfirm",{staticClass:"el-button-confirm",attrs:{title:"您确定要删除吗？"},on:{onConfirm:function(r){return t.handleDel(e.row)}}},[r("el-button",{attrs:{slot:"reference",type:"text"},slot:"reference"},[t._v("删除")])],1)]}}])})],1),t._v(" "),r("pagination",{directives:[{name:"show",rawName:"v-show",value:t.total>0,expression:"total>0"}],staticClass:"pagination-wrap",attrs:{total:t.total,page:t.queryParams.pageNum,limit:t.queryParams.pageSize},on:{"update:page":function(e){return t.$set(t.queryParams,"pageNum",e)},"update:limit":function(e){return t.$set(t.queryParams,"pageSize",e)},pagination:t.getGroupList}})],1)])},a=[],c=r("2879"),o=r("f06f"),u=(r("542c"),{components:{TreeSelect:function(){return r.e("chunk-5c5c1f08").then(r.t.bind(null,"7026",7))},UpdateGroup:function(){return r.e("chunk-68900f74").then(r.bind(null,"5250"))},ViewGroup:function(){return r.e("chunk-2d0cb711").then(r.bind(null,"4a4b"))}},data:function(){return{loading:!0,total:0,queryParams:{gorupName:void 0,orgId:void 0,pageNum:1,pageSize:10},orgOptions:[],groupList:[],selectedList:[]}},created:function(){this.getGroupList(),this.getOrgTreeselect()},methods:{handleBatchDel:function(){var t=this;this.$confirm("确认删除选中的测评小组？").then((function(e){t.loading=!0;var r=t.selectedList.map((function(t){return t.groupId})).join(),n={groupIds:r};Object(o["batchDelGroup"])(n).then((function(e){t.loading=!1,"0"===e.code?(t.msgSuccess("删除成功"),t.getGroupList()):t.msgError(e.msg)}))})).catch((function(){}))},handleDel:function(t){var e=this;Object(o["delGroup"])(t.groupId).then((function(t){e.loading=!1,"0"===t.code?(e.msgSuccess("删除成功"),e.getGroupList()):e.msgError(t.msg)})).catch((function(t){e.loading=!1,e.msgError(t)}))},handleQuery:function(){this.queryParams.pageNum=1,this.getGroupList()},getGroupList:function(){var t=this;this.loading=!0,Object(o["listGroup"])(this.queryParams).then((function(e){t.loading=!1,"0"===e.code?t.groupList=e.data.list:t.msgError(e.msg)}))},handleReset:function(){this.queryParams={gorupName:void 0,orgId:void 0,pageNum:1,pageSize:10}},seleChange:function(t){this.selectedList=t},getOrgTreeselect:function(){var t=this;Object(c["treeselect"])().then((function(e){t.orgOptions=e.data}))}},computed:{},watch:{}}),i=u,s=r("2877"),p=Object(s["a"])(i,n,a,!1,null,"23185f6a",null);e["default"]=p.exports},2879:function(t,e,r){"use strict";r.r(e),r.d(e,"treeselect",(function(){return c})),r.d(e,"selectPfmcEmpList",(function(){return o})),r.d(e,"addPfmcOrg",(function(){return u})),r.d(e,"updatePfmcOrg",(function(){return i})),r.d(e,"delPfmcOrg",(function(){return s})),r.d(e,"searchEmp",(function(){return p})),r.d(e,"addEmpToOrg",(function(){return l})),r.d(e,"updatePfmcEmp",(function(){return m})),r.d(e,"delPfmcEmp",(function(){return d})),r.d(e,"batchTransferEmp",(function(){return f})),r.d(e,"listEmpNameOrNumber",(function(){return g})),r.d(e,"batchUpdateEmpStatus",(function(){return h})),r.d(e,"listEmp",(function(){return b})),r.d(e,"delOrgCheck",(function(){return v}));var n=r("b775"),a=r("b854");function c(){return Object(n["a"])({url:"".concat(a["pfmcAsist"],"/pfmcOrgEmp/treeselect"),method:"get"})}function o(t){return Object(n["a"])({url:"".concat(a["pfmcAsist"],"/pfmcOrgEmp/listEmpByOrgId"),method:"get",params:t})}function u(t){return Object(n["a"])({url:"".concat(a["pfmcAsist"],"/pfmcOrgEmp"),method:"post",data:t})}function i(t){return Object(n["a"])({url:"".concat(a["pfmcAsist"],"/pfmcOrgEmp"),method:"put",data:t})}function s(t){return Object(n["a"])({url:"".concat(a["pfmcAsist"],"/pfmcOrgEmp/deleteOrg/").concat(t),method:"delete"})}function p(t){return Object(n["a"])({url:"".concat(a["pfmcAsist"],"/pfmcOrgEmp/searchEmp"),method:"get",params:t})}function l(t){return Object(n["a"])({url:"".concat(a["pfmcAsist"],"/pfmcOrgEmp/updateEmpOfOrg"),method:"get",params:t})}function m(t){return Object(n["a"])({url:"".concat(a["pfmcAsist"],"/pfmcOrgEmp/updateEmp"),method:"post",data:t})}function d(t){return Object(n["a"])({url:"".concat(a["pfmcAsist"],"/pfmcOrgEmp/deleteEmp/").concat(t),method:"delete"})}function f(t){return Object(n["a"])({url:"".concat(a["pfmcAsist"],"/pfmcOrgEmp/batchTransferEmp"),method:"post",data:t})}function g(t){return Object(n["a"])({url:"".concat(a["pfmcAsist"],"/pfmcOrgEmp/listEmpNameOrNumber"),method:"get",params:t})}function h(t){return Object(n["a"])({url:"".concat(a["pfmcAsist"],"/pfmcOrgEmp/batchUpdateEmpStatus"),method:"post",data:t})}function b(t){return Object(n["a"])({url:"".concat(a["pfmcAsist"],"/pfmcOrgEmp/listEmp"),method:"post",data:t})}function v(t){return Object(n["a"])({url:"".concat(a["pfmcAsist"],"/pfmcOrgEmp/delOrgCheck/").concat(t),method:"delete"})}},"542c":function(t,e,r){},b854:function(t,e,r){"use strict";r.r(e),r.d(e,"pfmcSettings",(function(){return n})),r.d(e,"pfmcAsist",(function(){return a})),r.d(e,"pfmcExecution",(function(){return c})),r.d(e,"pfmcEval",(function(){return o}));var n="pfmc-settings",a="pfmc-asist",c="pfmc-execution",o="pfmc-eval"},f06f:function(t,e,r){"use strict";r.r(e),r.d(e,"listGroup",(function(){return c})),r.d(e,"getGroupInfoById",(function(){return o})),r.d(e,"addGroup",(function(){return u})),r.d(e,"updateGroup",(function(){return i})),r.d(e,"delGroup",(function(){return s})),r.d(e,"batchDelGroup",(function(){return p}));var n=r("b775"),a=r("b854");function c(t){return Object(n["a"])({url:"".concat(a["pfmcEval"],"/pfmcEvalGroup/listGroup"),method:"get",params:t})}function o(t){return Object(n["a"])({url:"".concat(a["pfmcEval"],"/pfmcEvalGroup/getGroupInfoById/").concat(t),method:"get"})}function u(t){return Object(n["a"])({url:"".concat(a["pfmcEval"],"/pfmcEvalGroup/addGroup"),method:"post",data:t})}function i(t){return Object(n["a"])({url:"".concat(a["pfmcEval"],"/pfmcEvalGroup/updateGroup"),method:"put",data:t})}function s(t){return Object(n["a"])({url:"".concat(a["pfmcEval"],"/pfmcEvalGroup/delGroup/").concat(t),method:"delete"})}function p(t){return Object(n["a"])({url:"".concat(a["pfmcEval"],"/pfmcEvalGroup/batchDelGroup"),method:"delete",data:t})}}}]);