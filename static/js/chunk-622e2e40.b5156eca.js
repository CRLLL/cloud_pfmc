(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-622e2e40","chunk-2d21062b","chunk-b5d27614","chunk-04bac318","chunk-142d866f","chunk-944dcfaa","chunk-2d21062b"],{"2f21":function(t,e,a){"use strict";var n=a("79e5");t.exports=function(t,e){return!!t&&n((function(){e?t.call(null,(function(){}),1):t.call(null)}))}},"304f":function(t,e,a){"use strict";a.r(e),a.d(e,"listPfmcCycle",(function(){return c})),a.d(e,"getPfmcCycle",(function(){return o})),a.d(e,"addPfmcCycle",(function(){return l})),a.d(e,"updatePfmcCycle",(function(){return i})),a.d(e,"batchAddPfmcCycle",(function(){return s}));var n=a("b775"),r=a("b854");function c(t){return Object(n["a"])({url:"".concat(r["pfmcSettings"],"/pfmccycle/list"),method:"get",params:t})}function o(t){return Object(n["a"])({url:"".concat(r["pfmcSettings"],"/pfmccycle/").concat(t),method:"get"})}function l(t){return Object(n["a"])({url:"".concat(r["pfmcSettings"],"/pfmccycle/add"),method:"post",data:t})}function i(t){return Object(n["a"])({url:"".concat(r["pfmcSettings"],"/pfmccycle/update"),method:"put",data:t})}function s(t){return Object(n["a"])({url:"".concat(r["pfmcSettings"],"/pfmccycle/batchAdd"),method:"post",data:t})}},"3ff6":function(t,e,a){"use strict";a.r(e);var n=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"ihr-wrapper"},[a("div",{staticClass:"top-query"},[a("el-form",{ref:"queryForm",attrs:{model:t.queryParams,"label-width":"78px"}},[a("el-row",[a("el-col",{attrs:{span:8}},[a("el-form-item",{attrs:{label:"年份",rules:{required:!0}}},[a("el-date-picker",{staticStyle:{width:"100%"},attrs:{type:"year",placeholder:"选择年份",clearable:!1},on:{change:t.getCycleList},model:{value:t.queryParams.yearDate,callback:function(e){t.$set(t.queryParams,"yearDate",e)},expression:"queryParams.yearDate"}})],1)],1),t._v(" "),a("el-col",{attrs:{span:8}},[a("el-form-item",{attrs:{label:"考核周期"}},[a("el-select",{attrs:{clearable:"",placeholder:"全部"},model:{value:t.queryParams.periodId,callback:function(e){t.$set(t.queryParams,"periodId",e)},expression:"queryParams.periodId"}},t._l(t.periodOptions,(function(t){return a("el-option",{key:t.cycleId,attrs:{label:t.cycleName,value:t.cycleId}})})),1)],1)],1),t._v(" "),a("el-col",{attrs:{span:8}},[a("el-form-item",{attrs:{label:"部门"}},[a("tree-select",{staticClass:"dept-tree-select",attrs:{options:t.deptOptions,multiple:"",placeholder:"全部","default-expand-level":1},model:{value:t.queryParams.deptId,callback:function(e){t.$set(t.queryParams,"deptId",e)},expression:"queryParams.deptId"}})],1)],1),t._v(" "),a("el-col",{attrs:{span:8}},[a("el-form-item",{attrs:{label:"姓名"}},[a("el-input",{attrs:{clearable:"",placeholder:"请输入..."},model:{value:t.queryParams.empName,callback:function(e){t.$set(t.queryParams,"empName",e)},expression:"queryParams.empName"}})],1)],1),t._v(" "),a("el-col",{attrs:{span:8}},[a("el-form-item",{attrs:{label:"员工编号"}},[a("el-input",{attrs:{clearable:"",placeholder:"请输入..."},model:{value:t.queryParams.empNumber,callback:function(e){t.$set(t.queryParams,"empNumber",e)},expression:"queryParams.empNumber"}})],1)],1)],1)],1),t._v(" "),a("div",[a("el-button",{attrs:{type:"primary",icon:"el-icon-search"},on:{click:t.handleQuery}},[t._v("查询")]),t._v(" "),a("el-button",{attrs:{type:"primary",plain:"",icon:"el-icon-refresh-left"},on:{click:t.handleReset}},[t._v("重置")])],1)],1),t._v(" "),a("div",{staticClass:"main-table"},[a("div",{staticClass:"button-flex"},[a("el-button",{attrs:{type:"primary",icon:"el-icon-plus"},on:{click:t.handleAdd}},[t._v("新增")]),t._v(" "),a("import-data",{attrs:{"task-id":"pfmc_basicsettings_noeval"},on:{"import-finished":t.importFinished}}),t._v(" "),a("export-data",{attrs:{"task-id":"pfmc_basicsettings_noeval",params:t.queryParams,"before-download":t.handleExport,disabled:0==this.total}}),t._v(" "),a("el-button",{attrs:{type:"danger",plain:"",icon:"el-icon-delete",disabled:0==this.selectedRows.length},on:{click:t.handleDel}},[t._v("删除")])],1),t._v(" "),a("el-table",{directives:[{name:"loading",rawName:"v-loading",value:t.loading,expression:"loading"}],attrs:{data:t.noevalList,"row-key":"noevalId"},on:{"selection-change":t.selectedChange}},[a("el-table-column",{attrs:{type:"selection",fixed:"left"}}),t._v(" "),a("el-table-column",{attrs:{label:"序号",type:"index"}}),t._v(" "),a("el-table-column",{attrs:{label:"员工编号",prop:"empNumber",width:"100"}}),t._v(" "),a("el-table-column",{attrs:{label:"姓名",prop:"empName",width:"100"}}),t._v(" "),a("el-table-column",{attrs:{label:"部门",prop:"deptName","show-overflow-tooltip":!0}}),t._v(" "),a("el-table-column",{attrs:{label:"考核周期",prop:"periodName",width:"200","show-overflow-tooltip":!0}}),t._v(" "),a("el-table-column",{attrs:{label:"不参加考核原因",prop:"noevalReason","show-overflow-tooltip":!0}}),t._v(" "),a("el-table-column",{attrs:{label:"操作",width:"100",fixed:"right"},scopedSlots:t._u([{key:"default",fn:function(e){return[a("el-button",{attrs:{type:"text"},on:{click:function(a){return t.handleUpdate(e.row)}}},[t._v("编辑")])]}}])})],1),t._v(" "),a("pagination",{directives:[{name:"show",rawName:"v-show",value:t.total>0,expression:"total>0"}],staticClass:"pagination-wrap",attrs:{total:t.total,page:t.queryParams.pageNum,limit:t.queryParams.pageSize},on:{"update:page":function(e){return t.$set(t.queryParams,"pageNum",e)},"update:limit":function(e){return t.$set(t.queryParams,"pageSize",e)},pagination:t.getList}})],1),t._v(" "),a("update-noeval-dialog",{attrs:{visible:t.updateDialogShow,title:t.title,"noeval-id":t.noevalId,"is-add":t.isAdd},on:{"update:visible":function(e){t.updateDialogShow=e}}})],1)},r=[],c=(a("55dd"),a("ac6a"),a("542c"),a("fcb7")),o=a("f724"),l=a("304f"),i={components:{TreeSelect:function(){return a.e("chunk-5c5c1f08").then(a.t.bind(null,"7026",7))},UpdateNoevalDialog:function(){return a.e("chunk-127cb46a").then(a.bind(null,"3af8"))},ImportData:function(){return a.e("chunk-a7c7fc38").then(a.bind(null,"77dc"))},ExportData:function(){return a.e("chunk-336f6cc4").then(a.bind(null,"2ee5"))}},data:function(){return{updateDialogShow:!1,deptOptions:void 0,title:"",noevalId:"0",isAdd:!0,loading:!1,noevalList:[],total:0,selectedRows:[],periodOptions:[],queryParams:{pageNum:1,pageSize:10,yearDate:new Date,year:void 0,periodId:void 0,deptId:[],empName:void 0,empNumber:void 0}}},created:function(){this.getList(),this.getTreeselect(),this.getCycleList()},mounted:function(){},computed:{},methods:{getList:function(){var t=this;this.loading=!0,this.queryParams.year=this.queryParams.yearDate.getFullYear(),Object(o["listNoeval"])(this.queryParams).then((function(e){"0"===e.code?(t.noevalList=e.data.list,t.total=e.data.total,t.loading=!1):t.msgError("查询不参加考核人员列表失败")})).catch((function(e){t.msgError(e)}))},getTreeselect:function(){var t=this;Object(c["f"])().then((function(e){t.deptOptions=e.data}))},getCycleList:function(){var t=this,e={cycleYear:this.queryParams.yearDate.getFullYear(),pageNum:1,pageSize:0};Object(l["listPfmcCycle"])(e).then((function(e){"0"===e.code?t.periodOptions=t.cycleSort(e.data.list):t.msgError("查询考核周期列表失败")})).catch((function(e){t.msgError(e)}))},handleQuery:function(){this.queryParams.pageNum=1,this.getList()},handleReset:function(){this.queryParams={pageNum:1,pageSize:10,yearDate:new Date,periodId:void 0,deptId:[],empName:void 0,empNumber:void 0}},handleAdd:function(){this.noevalId="0",this.isAdd=!0,this.title="增加不参加考核人员信息",this.updateDialogShow=!0},handleDel:function(){var t=this;this.$confirm("确认删除？").then((function(e){t.loading=!0;var a="";t.selectedRows.forEach((function(t){a+=t.noevalId+","}));var n={noevalIds:a};Object(o["batchDelNoeval"])(n).then((function(e){t.loading=!1,"0"===e.code?(t.msgSuccess("删除成功"),t.getList()):t.msgError(e.msg)})).catch((function(e){t.loading=!1,t.msgError(e)}))})).catch((function(){}))},importFinished:function(t){t?this.getList():this.msgError("导入失败")},handleExport:function(){return!(this.total<=0)||(this.msgInfo("没有结果，无需导出"),!1)},handleUpdate:function(t){this.noevalId=t.noevalId,this.isAdd=!1,this.title="修改不参加考核人员信息",this.updateDialogShow=!0},selectedChange:function(t){this.selectedRows=t},cycleCompare:function(t,e){var a=t.cycleTypeOrder,n=e.cycleTypeOrder,r=t.startDate,c=e.startDate;return a>n||a<n?a>n?1:-1:a==n?r>c?1:r==c?0:-1:void 0},cycleSort:function(t){var e=t.map((function(t){switch(t.cycleType){case"month_pfmc":t.cycleTypeOrder=1;break;case"quarter_pfmc":t.cycleTypeOrder=2;break;case"half_year_pfmc":t.cycleTypeOrder=3;break;case"year_pfmc":t.cycleTypeOrder=4;break;default:t.cycleTypeOrder=5;break}return t}));return e.sort(this.cycleCompare)}},watch:{updateDialogShow:function(){0==this.updateDialogShow&&this.getList()}}},s=i,u=(a("8722"),a("2877")),d=Object(u["a"])(s,n,r,!1,null,"8ace2326",null);e["default"]=d.exports},"542c":function(t,e,a){},"55dd":function(t,e,a){"use strict";var n=a("5ca1"),r=a("d8e8"),c=a("4bf8"),o=a("79e5"),l=[].sort,i=[1,2,3];n(n.P+n.F*(o((function(){i.sort(void 0)}))||!o((function(){i.sort(null)}))||!a("2f21")(l)),"Array",{sort:function(t){return void 0===t?l.call(c(this)):l.call(c(this),r(t))}})},6041:function(t,e,a){},8722:function(t,e,a){"use strict";var n=a("6041"),r=a.n(n);r.a},b854:function(t,e,a){"use strict";a.r(e),a.d(e,"pfmcSettings",(function(){return n})),a.d(e,"pfmcAsist",(function(){return r})),a.d(e,"pfmcExecution",(function(){return c})),a.d(e,"pfmcEval",(function(){return o}));var n="pfmc-settings",r="pfmc-asist",c="pfmc-execution",o="pfmc-eval"},f724:function(t,e,a){"use strict";a.r(e),a.d(e,"listNoeval",(function(){return c})),a.d(e,"updateNoeval",(function(){return o})),a.d(e,"batchDelNoeval",(function(){return l})),a.d(e,"getNoeval",(function(){return i})),a.d(e,"addNoeval",(function(){return s}));var n=a("b775"),r=a("b854");function c(t){return Object(n["a"])({url:"".concat(r["pfmcSettings"],"/pfmcnoeval/list"),method:"post",data:t})}function o(t){return Object(n["a"])({url:"".concat(r["pfmcSettings"],"/pfmcnoeval/update"),method:"put",data:t})}function l(t){return Object(n["a"])({url:"".concat(r["pfmcSettings"],"/pfmcnoeval/del"),method:"put",data:t})}function i(t){return Object(n["a"])({url:"".concat(r["pfmcSettings"],"/pfmcnoeval/").concat(t),method:"get"})}function s(t){return Object(n["a"])({url:"".concat(r["pfmcSettings"],"/pfmcnoeval/add"),method:"post",data:t})}},fcb7:function(t,e,a){"use strict";a.d(e,"d",(function(){return c})),a.d(e,"c",(function(){return o})),a.d(e,"f",(function(){return l})),a.d(e,"e",(function(){return i})),a.d(e,"a",(function(){return s})),a.d(e,"g",(function(){return u})),a.d(e,"b",(function(){return d}));var n=a("b775"),r=a("365c");function c(t){return Object(n["a"])({url:"".concat(r["d"],"/dept/list"),method:"get",params:t})}function o(t){return Object(n["a"])({url:"".concat(r["d"],"/dept/").concat(t),method:"get"})}function l(){return Object(n["a"])({url:"".concat(r["d"],"/dept/treeselect"),method:"get"})}function i(t){return Object(n["a"])({url:"".concat(r["d"],"/dept/roleDeptTreeselect/").concat(t),method:"get"})}function s(t){return Object(n["a"])({url:"".concat(r["d"],"/dept"),method:"post",data:t})}function u(t){return Object(n["a"])({url:"".concat(r["d"],"/dept"),method:"put",data:t})}function d(t){return Object(n["a"])({url:"".concat(r["d"],"/dept/").concat(t),method:"delete"})}}}]);