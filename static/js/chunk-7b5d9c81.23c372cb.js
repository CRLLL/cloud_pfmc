(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-7b5d9c81","chunk-2d216217","chunk-938d7bc2"],{"26a4":function(t,e,n){},a183:function(t,e,n){"use strict";n.r(e);var r=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"app-container"},[n("el-dialog",{attrs:{title:t.title,visible:t.show,"close-on-click-modal":!1},on:{open:t.open,close:t.cancel}},[n("el-card",[n("el-row",[n("el-col",{attrs:{span:8}},[n("div",[t._v("员工名称："+t._s(t.userInfo.userName))])]),t._v(" "),n("el-col",{attrs:{span:8}},[n("div",[t._v("员工昵称："+t._s(t.userInfo.nickName))])]),t._v(" "),n("el-col",{attrs:{span:8}},[n("div",[t._v("部门："+t._s(t.userInfo.dept.deptName))])])],1)],1),t._v(" "),n("el-card",[n("div",{staticStyle:{float:"right"}},[n("span",[n("update-user-role",{attrs:{"user-id":t.queryParams.userId},on:{"save-role-success":t.getList}})],1),t._v(" "),n("span",[n("el-button",{attrs:{type:"danger",plain:"",icon:"el-icon-remove",size:"mini",disabled:0==this.selectedRows.length},on:{click:function(e){return t.handleDelRole()}}},[t._v("删除")])],1)]),t._v(" "),n("el-table",{directives:[{name:"loading",rawName:"v-loading",value:t.loading,expression:"loading"}],attrs:{data:t.userRoleList},on:{"selection-change":t.selsChange}},[n("el-table-column",{attrs:{type:"selection"}}),t._v(" "),n("el-table-column",{attrs:{label:"角色名称",prop:"roleName"}}),t._v(" "),n("el-table-column",{attrs:{label:"部门",prop:"deptName"}}),t._v(" "),n("el-table-column",{attrs:{label:"绩效部门",prop:"pfmcDeptName"}})],1),t._v(" "),n("pagination",{directives:[{name:"show",rawName:"v-show",value:t.total>0,expression:"total>0"}],attrs:{total:t.total,page:t.queryParams.pageNum,limit:t.queryParams.pageSize},on:{"update:page":function(e){return t.$set(t.queryParams,"pageNum",e)},"update:limit":function(e){return t.$set(t.queryParams,"pageSize",e)},pagination:t.getList}})],1)],1)],1)},a=[],o=(n("ac6a"),n("c0c7")),s={name:"AssignRole",components:{UpdateUserRole:function(){return Promise.all([n.e("chunk-5c5c1f08"),n.e("chunk-35e6bd7e")]).then(n.bind(null,"dd3b"))}},props:{visible:{type:Boolean,default:!1},userId:{type:String,default:""}},data:function(){return{show:!1,loading:!1,total:0,title:"用户角色分配",userInfo:{userName:"",nickName:"",dept:{}},userRoleList:[],selectedRows:[],queryParams:{pageNum:1,pageSize:10,userId:void 0}}},created:function(){},mounted:function(){},computed:{},methods:{open:function(){this.queryParams.userId=this.userId,this.getUserInfo(),this.getList()},cancel:function(){this.show=!1},getList:function(){var t=this;this.loading=!0,Object(o["i"])(this.queryParams).then((function(e){"0"===e.code?(t.userRoleList=e.data.list,t.total=e.data.total,t.loading=!1):t.msgError("查询用户角色列表失败")})).catch((function(e){t.msgError(erro)}))},getUserInfo:function(){var t=this;Object(o["f"])(this.userId).then((function(e){"0"===e.code?t.userInfo=e.data.user:t.msgError("查询用户角色列表失败")})).catch((function(e){t.msgError(erro)}))},delUserRoleInfo:function(){var t=this,e={};this.selectedRows.forEach((function(t){e[t.userRoleId]=""})),Object(o["b"])(e).then((function(e){"0"===e.code?(t.msgSuccess("删除成功"),t.getList()):t.msgError("删除用户角色失败")})).catch((function(e){t.msgError(erro)}))},handleDelRole:function(){var t=this;this.$confirm("确认删除？").then((function(){t.delUserRoleInfo()}))},selsChange:function(t){this.selectedRows=t}},watch:{show:function(){0==this.show&&this.$emit("update:visible",!1)},visible:function(){this.show=this.visible}}},c=s,u=(n("b7bc"),n("2877")),i=Object(u["a"])(c,r,a,!1,null,"49efde9c",null);e["default"]=i.exports},b7bc:function(t,e,n){"use strict";var r=n("26a4"),a=n.n(r);a.a},c0c7:function(t,e,n){"use strict";n.d(e,"h",(function(){return o})),n.d(e,"f",(function(){return s})),n.d(e,"a",(function(){return c})),n.d(e,"k",(function(){return u})),n.d(e,"e",(function(){return i})),n.d(e,"j",(function(){return l})),n.d(e,"d",(function(){return d})),n.d(e,"g",(function(){return f})),n.d(e,"l",(function(){return p})),n.d(e,"m",(function(){return h})),n.d(e,"n",(function(){return m})),n.d(e,"i",(function(){return b})),n.d(e,"c",(function(){return g})),n.d(e,"b",(function(){return v}));var r=n("b775"),a=n("365c");function o(t){return Object(r["a"])({url:"".concat(a["d"],"/user/list"),method:"get",params:t})}function s(t){return Object(r["a"])({url:"".concat(a["d"],"/user/").concat(t),method:"get"})}function c(t){return Object(r["a"])({url:"".concat(a["d"],"/user"),method:"post",data:t})}function u(t){return Object(r["a"])({url:"".concat(a["d"],"/user"),method:"put",data:t})}function i(t){return Object(r["a"])({url:"".concat(a["d"],"/user/").concat(t),method:"delete"})}function l(t,e){var n={userId:t,password:e};return Object(r["a"])({url:"".concat(a["d"],"/user/resetPwd"),method:"put",data:n})}function d(t,e){var n={userId:t,status:e};return Object(r["a"])({url:"".concat(a["d"],"/user/changeStatus"),method:"put",data:n})}function f(){return Object(r["a"])({url:"".concat(a["d"],"/user/profile"),method:"get"})}function p(t){return Object(r["a"])({url:"".concat(a["d"],"/user/profile"),method:"put",data:t})}function h(t,e){var n={oldPassword:t,newPassword:e};return Object(r["a"])({url:"".concat(a["d"],"/user/profile/updatePwd"),method:"put",params:n})}function m(t){return Object(r["a"])({url:"".concat(a["d"],"/user/profile/avatar"),method:"post",data:t})}function b(t){return Object(r["a"])({url:"".concat(a["d"],"/user/listUserRole"),method:"get",params:t})}function g(t){return Object(r["a"])({url:"".concat(a["d"],"/user/batchSaveUserRole"),method:"post",data:t})}function v(t){return Object(r["a"])({url:"".concat(a["d"],"/user/batchDeleteUserRole"),method:"put",data:t})}}}]);