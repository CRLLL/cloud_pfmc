(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-1f518e23","chunk-2d21062b","chunk-10db1c36","chunk-2d21062b"],{"0087":function(t,e,n){"use strict";var o=n("df45"),r=n.n(o);r.a},2879:function(t,e,n){"use strict";n.r(e),n.d(e,"treeselect",(function(){return c})),n.d(e,"selectPfmcEmpList",(function(){return a})),n.d(e,"addPfmcOrg",(function(){return i})),n.d(e,"updatePfmcOrg",(function(){return l})),n.d(e,"delPfmcOrg",(function(){return u})),n.d(e,"searchEmp",(function(){return s})),n.d(e,"addEmpToOrg",(function(){return d})),n.d(e,"updatePfmcEmp",(function(){return p})),n.d(e,"delPfmcEmp",(function(){return f})),n.d(e,"batchTransferEmp",(function(){return m})),n.d(e,"listEmpNameOrNumber",(function(){return h})),n.d(e,"batchUpdateEmpStatus",(function(){return g})),n.d(e,"listEmp",(function(){return b})),n.d(e,"delOrgCheck",(function(){return O}));var o=n("b775"),r=n("b854");function c(){return Object(o["a"])({url:"".concat(r["pfmcAsist"],"/pfmcOrgEmp/treeselect"),method:"get"})}function a(t){return Object(o["a"])({url:"".concat(r["pfmcAsist"],"/pfmcOrgEmp/listEmpByOrgId"),method:"get",params:t})}function i(t){return Object(o["a"])({url:"".concat(r["pfmcAsist"],"/pfmcOrgEmp"),method:"post",data:t})}function l(t){return Object(o["a"])({url:"".concat(r["pfmcAsist"],"/pfmcOrgEmp"),method:"put",data:t})}function u(t){return Object(o["a"])({url:"".concat(r["pfmcAsist"],"/pfmcOrgEmp/deleteOrg/").concat(t),method:"delete"})}function s(t){return Object(o["a"])({url:"".concat(r["pfmcAsist"],"/pfmcOrgEmp/searchEmp"),method:"get",params:t})}function d(t){return Object(o["a"])({url:"".concat(r["pfmcAsist"],"/pfmcOrgEmp/updateEmpOfOrg"),method:"get",params:t})}function p(t){return Object(o["a"])({url:"".concat(r["pfmcAsist"],"/pfmcOrgEmp/updateEmp"),method:"post",data:t})}function f(t){return Object(o["a"])({url:"".concat(r["pfmcAsist"],"/pfmcOrgEmp/deleteEmp/").concat(t),method:"delete"})}function m(t){return Object(o["a"])({url:"".concat(r["pfmcAsist"],"/pfmcOrgEmp/batchTransferEmp"),method:"post",data:t})}function h(t){return Object(o["a"])({url:"".concat(r["pfmcAsist"],"/pfmcOrgEmp/listEmpNameOrNumber"),method:"get",params:t})}function g(t){return Object(o["a"])({url:"".concat(r["pfmcAsist"],"/pfmcOrgEmp/batchUpdateEmpStatus"),method:"post",data:t})}function b(t){return Object(o["a"])({url:"".concat(r["pfmcAsist"],"/pfmcOrgEmp/listEmp"),method:"post",data:t})}function O(t){return Object(o["a"])({url:"".concat(r["pfmcAsist"],"/pfmcOrgEmp/delOrgCheck/").concat(t),method:"delete"})}},3528:function(t,e,n){"use strict";n.d(e,"f",(function(){return c})),n.d(e,"e",(function(){return a})),n.d(e,"a",(function(){return i})),n.d(e,"g",(function(){return l})),n.d(e,"c",(function(){return u})),n.d(e,"b",(function(){return s})),n.d(e,"d",(function(){return d}));var o=n("b775"),r=n("365c");function c(t){return Object(o["a"])({url:"".concat(r["d"],"/role/list"),method:"get",params:t})}function a(t){return Object(o["a"])({url:"".concat(r["d"],"/role/").concat(t),method:"get"})}function i(t){return Object(o["a"])({url:"".concat(r["d"],"/role"),method:"post",data:t})}function l(t){return Object(o["a"])({url:"".concat(r["d"],"/role"),method:"put",data:t})}function u(t){return Object(o["a"])({url:"".concat(r["d"],"/role/dataScope"),method:"put",data:t})}function s(t,e){var n={roleId:t,status:e};return Object(o["a"])({url:"".concat(r["d"],"/role/changeStatus"),method:"put",data:n})}function d(t){return Object(o["a"])({url:"".concat(r["d"],"/role/").concat(t),method:"delete"})}},"542c":function(t,e,n){},b854:function(t,e,n){"use strict";n.r(e),n.d(e,"pfmcSettings",(function(){return o})),n.d(e,"pfmcAsist",(function(){return r})),n.d(e,"pfmcExecution",(function(){return c})),n.d(e,"pfmcEval",(function(){return a}));var o="pfmc-settings",r="pfmc-asist",c="pfmc-execution",a="pfmc-eval"},dd3b:function(t,e,n){"use strict";n.r(e);var o=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"pfmc-import-button-container"},[n("el-button",{attrs:{size:t.size,type:t.type,plain:t.plain,round:t.round,circle:t.circle,disabled:t.disabled,icon:t.icon},on:{click:function(e){t.showAddRoleDialog=!0}}},[t._v(t._s(t.btnText))]),t._v(" "),n("el-dialog",{ref:"updateRoleDialog",attrs:{visible:t.showAddRoleDialog,title:t.title,"close-on-click-modal":!1,"append-to-body":"",width:"900px"},on:{"update:visible":function(e){t.showAddRoleDialog=e},open:t.onDialogOpen,close:t.onDialogClose}},[n("div",[n("el-form",{ref:"roleForm",attrs:{inline:!0}},[n("el-row",[n("el-col",{attrs:{span:8}},[n("el-form-item",{attrs:{label:"角色"}},[n("el-select",{attrs:{multiple:"",filterable:"",clearable:"",placeholder:"选择角色(可多选)"},model:{value:t.roleForm.roleIds,callback:function(e){t.$set(t.roleForm,"roleIds",e)},expression:"roleForm.roleIds"}},t._l(t.roleList,(function(t){return n("el-option",{key:t.roleId,attrs:{label:t.roleName,value:t.roleId}})})),1)],1)],1),t._v(" "),n("el-col",{attrs:{span:8}},[n("el-form-item",{attrs:{label:"部门"}},[n("treeselect",{staticClass:"dept-tree-select",attrs:{options:t.deptOptions,placeholder:"选择部门"},model:{value:t.roleForm.deptId,callback:function(e){t.$set(t.roleForm,"deptId",e)},expression:"roleForm.deptId"}})],1)],1),t._v(" "),n("el-col",{attrs:{span:8}},[n("el-form-item",{attrs:{label:"绩效部门"}},[n("treeselect",{staticClass:"dept-tree-select",attrs:{options:t.pfmcDeptOptions,placeholder:"选择部门"},model:{value:t.roleForm.pfmcDeptId,callback:function(e){t.$set(t.roleForm,"pfmcDeptId",e)},expression:"roleForm.pfmcDeptId"}})],1)],1)],1)],1)],1),t._v(" "),n("div",{attrs:{slot:"footer"},slot:"footer"},[n("el-button",{attrs:{plain:"",icon:"el-icon-close"},on:{click:function(e){t.showAddRoleDialog=!1}}},[t._v("取消")]),t._v(" "),n("el-button",{attrs:{type:"primary",icon:"el-icon-bank-card"},on:{click:t.handleSaveRole}},[t._v("保存")])],1)])],1)},r=[],c=n("7026"),a=n.n(c),i=(n("542c"),n("fcb7")),l=n("2879"),u=n("3528"),s=n("c0c7"),d={name:"UpdateUserRole",components:{Treeselect:a.a,pfmctreeselect:l["treeselect"]},props:{size:{type:String,default:"mini"},type:{type:String,default:"primary"},plain:{type:Boolean,default:!0},round:{type:Boolean,default:!1},circle:{type:Boolean,default:!1},disabled:{type:Boolean,default:!1},icon:{type:String,default:"el-icon-plus"},btnText:{type:String,default:"新增"},title:{type:String,default:"新增角色"},userId:{type:String,required:!0}},data:function(){return{showAddRoleDialog:!1,roleForm:{userId:void 0,roleIds:[],deptId:void 0,pfmcDeptId:void 0},loading:!1,deptOptions:void 0,pfmcDeptOptions:void 0,queryParams:{pageNum:1,pageSize:10,roleName:void 0},roleList:[],total:0,selectedRoleList:[]}},created:function(){this.getTreeselect(),this.getPfmcTreeselect(),this.getRoleList()},methods:{onDialogOpen:function(){this.roleForm.userId=this.userId},onDialogClose:function(){this.selectedRoleList=[],this.roleForm={userId:this.userId,roleIds:[],deptId:void 0,pfmcDeptId:void 0}},handleSaveRole:function(){0!=this.roleForm.roleIds.length?this.roleForm.deptId?this.roleForm.pfmcDeptId?this.saveUserRoleInfo(this.roleForm):this.msgInfo("请选择绩效部门"):this.msgInfo("请选择部门"):this.msgInfo("请选择角色")},saveUserRoleInfo:function(t){var e=this;Object(s["c"])(t).then((function(t){"0"===t.code?(e.showAddRoleDialog=!1,e.$emit("save-role-success"),e.msgSuccess("新增用户角色成功")):e.msgError("新增用户角色失败")})).catch((function(t){e.msgError(t)}))},getTreeselect:function(){var t=this;Object(i["f"])().then((function(e){t.deptOptions=e.data}))},getPfmcTreeselect:function(){var t=this;Object(l["treeselect"])().then((function(e){t.pfmcDeptOptions=e.data}))},getRoleList:function(){var t=this;this.loading=!0,Object(u["f"])(this.queryParams).then((function(e){"0"===e.code?(t.roleList=e.data.list,t.total=e.data.total,t.loading=!1):t.msgError("查询角色列表失败")})).catch((function(e){t.msgError(e)}))},selsChange:function(t){this.selectedRoleList=t}}},p=d,f=(n("0087"),n("2877")),m=Object(f["a"])(p,o,r,!1,null,"2f8e7a62",null);e["default"]=m.exports},df45:function(t,e,n){},fcb7:function(t,e,n){"use strict";n.d(e,"d",(function(){return c})),n.d(e,"c",(function(){return a})),n.d(e,"f",(function(){return i})),n.d(e,"e",(function(){return l})),n.d(e,"a",(function(){return u})),n.d(e,"g",(function(){return s})),n.d(e,"b",(function(){return d}));var o=n("b775"),r=n("365c");function c(t){return Object(o["a"])({url:"".concat(r["d"],"/dept/list"),method:"get",params:t})}function a(t){return Object(o["a"])({url:"".concat(r["d"],"/dept/").concat(t),method:"get"})}function i(){return Object(o["a"])({url:"".concat(r["d"],"/dept/treeselect"),method:"get"})}function l(t){return Object(o["a"])({url:"".concat(r["d"],"/dept/roleDeptTreeselect/").concat(t),method:"get"})}function u(t){return Object(o["a"])({url:"".concat(r["d"],"/dept"),method:"post",data:t})}function s(t){return Object(o["a"])({url:"".concat(r["d"],"/dept"),method:"put",data:t})}function d(t){return Object(o["a"])({url:"".concat(r["d"],"/dept/").concat(t),method:"delete"})}}}]);