(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-adef5ee6","chunk-6bf59962"],{"760b":function(e,i,t){"use strict";t.r(i);var l=function(){var e=this,i=e.$createElement,t=e._self._c||i;return t("div",{staticClass:"app-container"},[t("el-dialog",{attrs:{visible:e.show,"close-on-click-modal":!1,"append-to-body":"",width:"500px"},on:{"update:visible":function(i){e.show=i}}},[t("div",{directives:[{name:"show",rawName:"v-show",value:e.isEdit,expression:"isEdit"}],staticClass:"pfmc-btn-bar"},[t("el-button",{attrs:{type:"primary",plain:"",icon:"el-icon-plus",size:"mini"},on:{click:e.handleAddRow}},[e._v("增加")]),e._v(" "),t("el-button",{attrs:{type:"danger",icon:"el-icon-remove",plain:"",size:"mini",disabled:0==this.selectedRows.length},on:{click:function(i){return e.handleDelRow(e.selectedRows)}}},[e._v("删除")])],1),e._v(" "),t("el-form",{ref:"fieldTypeOptionForm",attrs:{model:e.fieldTypeOptionForm,disabled:!e.isEdit}},[t("el-table",{ref:"optionTable",attrs:{data:e.fieldTypeOptionForm.optionArray,"empty-text":" ",height:"300px"},on:{"selection-change":e.selsChange}},[t("el-table-column",{attrs:{type:"selection",align:"center"}}),e._v(" "),t("el-table-column",{attrs:{label:"值名称",prop:"optionValue",align:"center"},scopedSlots:e._u([{key:"default",fn:function(i){return[t("el-form-item",{staticClass:"form-item-margin",attrs:{prop:"optionArray."+i.$index+".optionValue",rules:[{required:!0,message:"值名称不能为空",trigger:"change"}]}},[t("el-input",{attrs:{maxlength:"10"},model:{value:i.row.optionValue,callback:function(t){e.$set(i.row,"optionValue",t)},expression:"scope.row.optionValue"}})],1)]}}])})],1)],1),e._v(" "),t("div",{directives:[{name:"show",rawName:"v-show",value:e.isEdit,expression:"isEdit"}],staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[t("el-button",{attrs:{type:"primary"},on:{click:e.submit}},[e._v("确 定")]),e._v(" "),t("el-button",{on:{click:e.cancel}},[e._v("取 消")])],1)],1)],1)},o=[],s=(t("5df3"),t("4f7f"),t("ac6a"),{name:"FieldTypeSelectDetail",components:{},props:{visible:{type:Boolean,default:!1},optionList:{type:Array,default:function(){return[]}},fieldId:{type:String,default:"0"},isEdit:{type:Boolean,default:!0}},data:function(){return{show:!1,selectedRows:[],fieldTypeOptionForm:{optionArray:[]}}},created:function(){},mounted:function(){},computed:{},methods:{selsChange:function(e){this.selectedRows=e},handleAddRow:function(){var e=this.fieldTypeOptionForm.optionArray,i=0==e.length?1:parseInt(e[e.length-1].orderNum)+1;e.push({optionId:"0",fieldId:this.fieldId,optionValue:"",orderNum:i,isDeleted:!1})},handleDelRow:function(e){var i=this,t=e;t&&t.forEach((function(e,t){i.fieldTypeOptionForm.optionArray.forEach((function(t,l){e.orderNum===t.orderNum&&i.fieldTypeOptionForm.optionArray.splice(l,1)}))})),this.$refs.optionTable.clearSelection(),this.selectedRows=[]},submit:function(){this.validateForm()&&(this.$emit("update:optionList",this.fieldTypeOptionForm.optionArray),this.show=!1)},cancel:function(){this.reset(),this.show=!1},validateForm:function(){var e=this,i=!0;return this.$refs.fieldTypeOptionForm.validate((function(t){if(i=t,t){var l=new Set;e.fieldTypeOptionForm.optionArray.forEach((function(e){l.add(e.optionValue)})),l.size!=e.fieldTypeOptionForm.optionArray.length&&(e.msgInfo("值名称不能重复"),i=!1)}})),i},reset:function(){this.selectedRows=[],this.fieldTypeOptionForm={optionArray:[]}}},watch:{show:function(){0==this.show&&this.$emit("update:visible",!1)},visible:function(){this.visible&&(this.fieldTypeOptionForm.optionArray=JSON.parse(JSON.stringify(this.optionList))),this.show=this.visible}}}),a=s,n=(t("fd68"),t("2877")),d=Object(n["a"])(a,l,o,!1,null,"14caa0f9",null);i["default"]=d.exports},dbff:function(e,i,t){"use strict";t.r(i);var l=function(){var e=this,i=e.$createElement,t=e._self._c||i;return t("div",{staticClass:"app-container"},[t("el-form",{ref:"fieldForm",attrs:{model:e.fieldForm,rules:e.rules,"label-width":"130px"}},[t("el-row",[t("el-col",{attrs:{span:12}},[t("el-form-item",{attrs:{label:"区段字段名称 :",prop:"pfmcField.fieldName"}},[t("el-input",{attrs:{disabled:!e.isEdit,maxlength:"20"},model:{value:e.fieldForm.pfmcField.fieldName,callback:function(i){e.$set(e.fieldForm.pfmcField,"fieldName",i)},expression:"fieldForm.pfmcField.fieldName"}})],1)],1),e._v(" "),t("el-col",{attrs:{span:12}},[t("el-form-item",{attrs:{label:"状态 :",prop:"pfmcField.status"}},[t("el-select",{attrs:{placeholder:"状态",clearable:"",size:"small",disabled:!e.isEdit},model:{value:e.fieldForm.pfmcField.status,callback:function(i){e.$set(e.fieldForm.pfmcField,"status",i)},expression:"fieldForm.pfmcField.status"}},e._l(e.statusOptions,(function(e){return t("el-option",{key:e.dictValue,attrs:{label:e.dictLabel,value:e.dictValue}})})),1)],1)],1)],1),e._v(" "),t("el-row",[t("el-form-item",{attrs:{label:"公开 :",prop:"pfmcField.isOpen"}},[t("el-radio",{attrs:{disabled:!e.isEdit,label:"1"},model:{value:e.fieldForm.pfmcField.isOpen,callback:function(i){e.$set(e.fieldForm.pfmcField,"isOpen",i)},expression:"fieldForm.pfmcField.isOpen"}},[e._v("是")]),e._v(" "),t("el-radio",{attrs:{disabled:!e.isEdit,label:"0"},model:{value:e.fieldForm.pfmcField.isOpen,callback:function(i){e.$set(e.fieldForm.pfmcField,"isOpen",i)},expression:"fieldForm.pfmcField.isOpen"}},[e._v("否")])],1)],1),e._v(" "),t("el-row",[t("el-form-item",{attrs:{label:"字段说明 :",prop:"pfmcField.fieldDesc"}},[t("el-input",{attrs:{type:"textarea",rows:"2",disabled:!e.isEdit,maxlength:"50"},model:{value:e.fieldForm.pfmcField.fieldDesc,callback:function(i){e.$set(e.fieldForm.pfmcField,"fieldDesc",i)},expression:"fieldForm.pfmcField.fieldDesc"}})],1)],1),e._v(" "),t("el-row",{attrs:{gutter:5}},[t("el-col",{attrs:{span:12}},[t("el-form-item",{attrs:{label:"字段类型 :",prop:"pfmcField.fieldType"}},[t("el-select",{attrs:{placeholder:"字段类型",size:"small",disabled:!e.isEdit},model:{value:e.fieldForm.pfmcField.fieldType,callback:function(i){e.$set(e.fieldForm.pfmcField,"fieldType",i)},expression:"fieldForm.pfmcField.fieldType"}},e._l(e.fieldTypeOptions,(function(e){return t("el-option",{key:e.dictValue,attrs:{label:e.dictLabel,value:e.dictValue}})})),1)],1)],1),e._v(" "),t("el-col",{attrs:{span:12}},[t("el-button",{directives:[{name:"show",rawName:"v-show",value:"select"==e.fieldForm.pfmcField.fieldType,expression:"fieldForm.pfmcField.fieldType=='select'"}],attrs:{size:"small"},on:{click:e.handlerFieldTypeSelectEdit}},[e._v(e._s(e.isEdit?"定义列表值":"查看列表值"))]),e._v(" "),t("el-form-item",{directives:[{name:"show",rawName:"v-show",value:"number"==e.fieldForm.pfmcField.fieldType,expression:"fieldForm.pfmcField.fieldType=='number'"}],attrs:{label:"小数位数：",prop:"pfmcField.decimalPlace"}},[t("el-select",{attrs:{placeholder:"",clearable:"",size:"small",disabled:!e.isEdit},model:{value:e.fieldForm.pfmcField.decimalPlace,callback:function(i){e.$set(e.fieldForm.pfmcField,"decimalPlace",i)},expression:"fieldForm.pfmcField.decimalPlace"}},e._l(e.fieldTypeDecimalOptions,(function(e){return t("el-option",{key:e.dictValue,attrs:{label:e.dictLabel,value:e.dictValue}})})),1)],1)],1)],1)],1),e._v(" "),t("field-type-select-detail",{attrs:{visible:e.fieldTypeSelectDialogVisible,"option-list":e.fieldForm.options,"field-id":e.fieldForm.pfmcField.fieldId,"is-edit":e.isEdit},on:{"update:visible":function(i){e.fieldTypeSelectDialogVisible=i},"update:optionList":function(i){return e.$set(e.fieldForm,"options",i)},"update:option-list":function(i){return e.$set(e.fieldForm,"options",i)}}})],1)},o=[],s=t("760b"),a={name:"FieldDetail",components:{FieldTypeSelectDetail:s["default"]},props:{isEdit:{type:Boolean,default:!0},fieldForm:{type:Object,default:function(){return{pfmcField:{fieldId:"",fieldName:"",status:"1",isOpen:"1",fieldDesc:"",fieldType:"",decimalPlace:""},options:[]}}}},data:function(){return{title:"",statusOptions:[],fieldTypeOptions:[],fieldTypeDecimalOptions:[],fieldTypeSelectDialogVisible:!1,rules:{"pfmcField.fieldName":[{required:!0,message:"区段字段名称不能为空",trigger:"change"}],"pfmcField.fieldDesc":[{required:!0,message:"状态不能为空",trigger:"change"}],"pfmcField.status":[{required:!0,message:"状态不能为空",trigger:"change"}],"pfmcField.fieldType":[{required:!0,message:"区段字段类型不能为空",trigger:"change"}]}}},computed:{},created:function(){var e=this;this.getDicts("sys_normal_status").then((function(i){e.statusOptions=i.data})),this.getDicts("pfmc_presettings_field_type").then((function(i){e.fieldTypeOptions=i.data})),this.getDicts("pfmc_presettings_field_type_decimal").then((function(i){e.fieldTypeDecimalOptions=i.data}))},methods:{validateForm:function(){var e=!0;return this.$refs.fieldForm.validate((function(i){e=i})),!!e&&("number"!=this.fieldForm.pfmcField.fieldType||this.fieldForm.pfmcField.decimalPlace?"select"!=this.fieldForm.pfmcField.fieldType||0!=this.fieldForm.options.length||(this.msgInfo("请定义列表值"),!1):(this.msgInfo("请选择小数位数"),!1))},resetFormValidate:function(e){this.$refs["fieldForm"].resetFields()},handlerFieldTypeSelectEdit:function(){this.fieldTypeSelectDialogVisible=!0}},mounted:function(){},watch:{}},n=a,d=t("2877"),r=Object(d["a"])(n,l,o,!1,null,"3744b176",null);i["default"]=r.exports},f286:function(e,i,t){},fd68:function(e,i,t){"use strict";var l=t("f286"),o=t.n(l);o.a}}]);