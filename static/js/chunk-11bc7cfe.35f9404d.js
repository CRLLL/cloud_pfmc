(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-11bc7cfe","chunk-2d21062b","chunk-142d866f","chunk-84e6e4a8","chunk-2d21062b"],{"014e":function(e,t,a){"use strict";a.r(t),a.d(t,"listColleagueEvaler",(function(){return n})),a.d(t,"addColleagueEvaler",(function(){return i})),a.d(t,"updateColleagueEvaler",(function(){return o})),a.d(t,"delColleagueEvaler",(function(){return c})),a.d(t,"batchDelNoeval",(function(){return s})),a.d(t,"getColleagueEvaler",(function(){return u}));var r=a("b775"),l=a("b854");function n(e){return Object(r["a"])({url:"".concat(l["pfmcSettings"],"/pfmcColleagueEvaler/list"),method:"get",params:e})}function i(e){return Object(r["a"])({url:"".concat(l["pfmcSettings"],"/pfmcColleagueEvaler/add"),method:"post",data:e})}function o(e){return Object(r["a"])({url:"".concat(l["pfmcSettings"],"/pfmcColleagueEvaler/update"),method:"put",data:e})}function c(e){return Object(r["a"])({url:"".concat(l["pfmcSettings"],"/pfmcColleagueEvaler/del/").concat(e),method:"put"})}function s(e){return Object(r["a"])({url:"".concat(l["pfmcSettings"],"/pfmcnoeval/del"),method:"put",data:e})}function u(e){return Object(r["a"])({url:"".concat(l["pfmcSettings"],"/pfmcColleagueEvaler/").concat(e),method:"get"})}},"304f":function(e,t,a){"use strict";a.r(t),a.d(t,"listPfmcCycle",(function(){return n})),a.d(t,"getPfmcCycle",(function(){return i})),a.d(t,"addPfmcCycle",(function(){return o})),a.d(t,"updatePfmcCycle",(function(){return c})),a.d(t,"batchAddPfmcCycle",(function(){return s}));var r=a("b775"),l=a("b854");function n(e){return Object(r["a"])({url:"".concat(l["pfmcSettings"],"/pfmccycle/list"),method:"get",params:e})}function i(e){return Object(r["a"])({url:"".concat(l["pfmcSettings"],"/pfmccycle/").concat(e),method:"get"})}function o(e){return Object(r["a"])({url:"".concat(l["pfmcSettings"],"/pfmccycle/add"),method:"post",data:e})}function c(e){return Object(r["a"])({url:"".concat(l["pfmcSettings"],"/pfmccycle/update"),method:"put",data:e})}function s(e){return Object(r["a"])({url:"".concat(l["pfmcSettings"],"/pfmccycle/batchAdd"),method:"post",data:e})}},5156:function(e,t,a){"use strict";a.r(t);var r=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"ihr-wrapper"},[a("div",{staticClass:"top-query"},[a("el-form",{ref:"queryForm",attrs:{model:e.queryParams,rules:e.rules,"label-width":"100px"}},[a("el-row",[a("el-col",{attrs:{span:8}},[a("el-form-item",{attrs:{label:"年份",prop:"yearDate"}},[a("el-date-picker",{staticStyle:{width:"100%"},attrs:{type:"year",placeholder:"选择年份",clearable:!1},on:{change:e.getCycleList},model:{value:e.queryParams.yearDate,callback:function(t){e.$set(e.queryParams,"yearDate",t)},expression:"queryParams.yearDate"}})],1)],1),e._v(" "),a("el-col",{attrs:{span:8}},[a("el-form-item",{attrs:{label:"考核周期",prop:"periodId"}},[a("el-select",{attrs:{clearable:"",placeholder:"全部"},model:{value:e.queryParams.periodId,callback:function(t){e.$set(e.queryParams,"periodId",t)},expression:"queryParams.periodId"}},e._l(e.periodOptions,(function(e){return a("el-option",{key:e.cycleId,attrs:{label:e.cycleName,value:e.cycleId}})})),1)],1)],1)],1),e._v(" "),a("el-row",[a("el-col",{attrs:{span:8}},[a("el-form-item",{attrs:{label:"员工编号",prop:"empNumber"}},[a("el-input",{attrs:{clearable:"",placeholder:"请输入..."},model:{value:e.queryParams.empNumber,callback:function(t){e.$set(e.queryParams,"empNumber",t)},expression:"queryParams.empNumber"}})],1)],1),e._v(" "),a("el-col",{attrs:{span:8}},[a("el-form-item",{attrs:{label:"员工姓名",prop:"empName"}},[a("el-input",{attrs:{clearable:"",placeholder:"请输入..."},model:{value:e.queryParams.empName,callback:function(t){e.$set(e.queryParams,"empName",t)},expression:"queryParams.empName"}})],1)],1)],1),e._v(" "),a("el-row",[a("el-col",{attrs:{span:8}},[a("el-form-item",{attrs:{label:"同事评价人编号",prop:"evalerNumber"}},[a("el-input",{attrs:{clearable:"",placeholder:"请输入..."},model:{value:e.queryParams.evalerNumber,callback:function(t){e.$set(e.queryParams,"evalerNumber",t)},expression:"queryParams.evalerNumber"}})],1)],1),e._v(" "),a("el-col",{attrs:{span:8}},[a("el-form-item",{attrs:{label:"同事评价人姓名",prop:"evalerName"}},[a("el-input",{attrs:{clearable:"",placeholder:"请输入..."},model:{value:e.queryParams.evalerName,callback:function(t){e.$set(e.queryParams,"evalerName",t)},expression:"queryParams.evalerName"}})],1)],1)],1)],1),e._v(" "),a("div",[a("el-button",{attrs:{type:"primary",icon:"el-icon-search"},on:{click:e.handleQuery}},[e._v("查询")]),e._v(" "),a("el-button",{attrs:{type:"primary",plain:"",icon:"el-icon-refresh-left"},on:{click:e.handleReset}},[e._v("重置\n      ")])],1)],1),e._v(" "),a("div",{staticClass:"main-table"},[a("div",{staticClass:"button-flex"},[a("el-button",{attrs:{type:"primary",icon:"el-icon-plus"},on:{click:e.handleAdd}},[e._v("新增")]),e._v(" "),a("import-data",{attrs:{"task-id":"pfmc_evalsettings_colleagueEvaler"},on:{"import-finished":e.importFinished}}),e._v(" "),a("export-data",{attrs:{"task-id":"pfmc_evalsettings_colleagueEvaler",params:e.queryParams,"before-download":e.handleExport,disabled:0==this.total}})],1),e._v(" "),a("el-table",{directives:[{name:"loading",rawName:"v-loading",value:e.loading,expression:"loading"}],attrs:{data:e.resultList,"row-key":"id"},on:{"selection-change":e.selectedChange}},[a("el-table-column",{attrs:{label:"序号",type:"index"}}),e._v(" "),a("el-table-column",{attrs:{label:"考核周期",prop:"periodName","min-width":"100","show-overflow-tooltip":!0}}),e._v(" "),a("el-table-column",{attrs:{label:"员工编号",prop:"empNumber","min-width":"100"}}),e._v(" "),a("el-table-column",{attrs:{label:"员工姓名",prop:"empName","min-width":"100"}}),e._v(" "),a("el-table-column",{attrs:{label:"同事评价人编号",prop:"evalerNumber","min-width":"100"}}),e._v(" "),a("el-table-column",{attrs:{label:"同事评价人姓名",prop:"evalerName","min-width":"100"}}),e._v(" "),a("el-table-column",{attrs:{label:"操作",width:"100",fixed:"right"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("el-button",{attrs:{type:"text"},on:{click:function(a){return e.handleUpdate(t.row)}}},[e._v("编辑")]),e._v(" "),a("el-popconfirm",{staticClass:"el-button-confirm",attrs:{title:"您确定要删除吗？"},on:{onConfirm:function(a){return e.handleDelete(t.row)}}},[a("el-button",{attrs:{slot:"reference",type:"text"},slot:"reference"},[e._v("删除")])],1)]}}])})],1),e._v(" "),a("pagination",{directives:[{name:"show",rawName:"v-show",value:e.total>0,expression:"total>0"}],staticClass:"pagination-wrap",attrs:{total:e.total,page:e.queryParams.pageNum,limit:e.queryParams.pageSize},on:{"update:page":function(t){return e.$set(e.queryParams,"pageNum",t)},"update:limit":function(t){return e.$set(e.queryParams,"pageSize",t)},pagination:e.getList}})],1),e._v(" "),a("edit-colleague-evaler-dialog",{attrs:{visible:e.editDialogShow,title:e.title,id:e.id,"is-add":e.isAdd},on:{"update:visible":function(t){e.editDialogShow=t}}})],1)},l=[],n=(a("ac6a"),a("304f")),i=a("014e"),o={components:{editColleagueEvalerDialog:function(){return a.e("chunk-2d0ac365").then(a.bind(null,"1929"))},ImportData:function(){return a.e("chunk-a7c7fc38").then(a.bind(null,"77dc"))},ExportData:function(){return a.e("chunk-336f6cc4").then(a.bind(null,"2ee5"))}},props:{},data:function(){return{loading:!1,id:void 0,editDialogShow:!1,title:"",isAdd:!0,resultList:[],total:0,selectedRows:[],periodOptions:[],rules:{yearDate:[{required:!0,message:"年份不能不能为空",trigger:"blur"}]},queryParams:{pageNum:1,pageSize:10,yearDate:new Date,periodYear:void 0,periodId:void 0,empName:void 0,empNumber:void 0,evalerNumber:void 0,evalerName:void 0}}},created:function(){this.getCycleList(),this.getList()},methods:{handleQuery:function(){var e=this;this.$refs["queryForm"].validate((function(t){t&&(e.queryParams.pageNum=1,e.getList())}))},getList:function(){var e=this;this.loading=!0,this.queryParams.periodYear=this.queryParams.yearDate.getFullYear(),Object(i["listColleagueEvaler"])(this.queryParams).then((function(t){"0"===t.code?(e.resultList=t.data.list,e.total=t.data.total,e.loading=!1):e.msgError("查询同事评价人列表失败")})).catch((function(t){e.msgError(t)})).finally((function(){e.loading=!1}))},handleReset:function(){this.queryParams={pageNum:1,pageSize:10,yearDate:new Date,periodYear:void 0,periodId:void 0,empName:void 0,empNumber:void 0,evalerNumber:void 0,evalerName:void 0},this.resetForm("form")},handleAdd:function(){this.id=void 0,this.isAdd=!0,this.title="新增同事评价人维护",this.editDialogShow=!0},handleDel:function(){var e=this;this.$confirm("确认删除？").then((function(t){e.loading=!0;var a="";e.selectedRows.forEach((function(e){a+=e.id+","}));var r={noevalIds:a};batchDelNoeval(r).then((function(t){e.loading=!1,"0"===t.code?(e.msgSuccess("删除成功"),e.getList()):e.msgError(t.msg)})).catch((function(t){e.loading=!1,e.msgError(t)}))})).catch((function(){}))},importFinished:function(e){e?this.getList():this.msgError("导入失败")},handleExport:function(){return!(this.total<=0)||(this.msgInfo("没有结果，无需导出"),!1)},handleUpdate:function(e){this.id=e.id,this.isAdd=!1,this.title="修改同事评价人维护",this.editDialogShow=!0},handleDelete:function(e){var t=this;this.loading=!0;var a=e.id;Object(i["delColleagueEvaler"])(a).then((function(e){"0"===e.code?(t.msgSuccess("删除成功"),t.getList()):t.msgError(e.msg)})).catch((function(e){t.msgError(e)})).finally((function(){t.loading=!1}))},selectedChange:function(e){this.selectedRows=e},getCycleList:function(){var e=this,t={cycleYear:this.queryParams.yearDate.getFullYear(),pageNum:1,pageSize:0};Object(n["listPfmcCycle"])(t).then((function(t){"0"===t.code?e.periodOptions=t.data.list:e.msgError("查询考核周期列表失败")})).catch((function(t){e.msgError(t)}))}},computed:{},watch:{editDialogShow:function(){!1===this.editDialogShow&&this.getList()}}},c=o,s=a("2877"),u=Object(s["a"])(c,r,l,!1,null,"5ac7e26a",null);t["default"]=u.exports},b854:function(e,t,a){"use strict";a.r(t),a.d(t,"pfmcSettings",(function(){return r})),a.d(t,"pfmcAsist",(function(){return l})),a.d(t,"pfmcExecution",(function(){return n})),a.d(t,"pfmcEval",(function(){return i}));var r="pfmc-settings",l="pfmc-asist",n="pfmc-execution",i="pfmc-eval"}}]);