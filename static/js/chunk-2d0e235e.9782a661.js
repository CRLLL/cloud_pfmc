(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-2d0e235e"],{"7e71":function(o,r,t){"use strict";t.r(r);var e=function(){var o=this,r=o.$createElement,t=o._self._c||r;return t("div",[t("el-dialog",{attrs:{title:o.title,width:"900px",visible:o.show,"close-on-click-modal":!1},on:{"update:visible":function(r){o.show=r},open:o.open,close:o.cancel}},[t("program-detail",{ref:"dialogForm",attrs:{"is-update":o.isUpdate,"program-form":o.programForm},on:{"update:programForm":function(r){o.programForm=r},"update:program-form":function(r){o.programForm=r}}}),o._v(" "),t("div",{directives:[{name:"show",rawName:"v-show",value:o.isUpdate,expression:"isUpdate"}],staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[t("el-button",{attrs:{plain:"",icon:"el-icon-close"},on:{click:o.cancel}},[o._v("取消")]),o._v(" "),t("el-button",{attrs:{type:"primary",icon:"el-icon-bank-card"},on:{click:o.submitForm}},[o._v("保存")])],1)],1)],1)},a=[],s=t("ec03"),i=t("51a2"),n={name:"UpdateProgramDialog",components:{ProgramDetail:s["default"]},props:{visible:{type:Boolean,default:!1},isUpdate:{type:Boolean,default:!0},title:{type:String,default:""},programId:{type:String,default:"0"}},data:function(){return{show:!1,programForm:{programId:"0",programName:"",status:"1",programType:"1",isHaveGroupWeight:!0,formId:"",scoreMode:"",decimalPlace:"",levelId:"",isAssessLevel:!0,applyScope:void 0}}},computed:{},created:function(){},methods:{submitForm:function(){this.$refs.dialogForm.validateForm()&&("0"==this.programId?this.addProgramInfo():this.updateProgramInfo())},resetForm:function(){this.programForm={programId:"0",programName:"",status:"1",programType:"",isHaveGroupWeight:!0,formId:"",scoreMode:"",decimalPlace:"",levelId:"",isAssessLevel:!0,applyScope:void 0},this.$refs.dialogForm.resetFormValidate()},open:function(){"0"!=this.programId&&this.getProgramInfo()},cancel:function(){this.resetForm(),this.show=!1},getProgramInfo:function(){var o=this;Object(i["getProgram"])(this.programId).then((function(r){"0"===r.code?o.programForm=r.data:o.msgError(r.msg)})).catch((function(r){o.msgError(r)}))},addProgramInfo:function(){var o=this;Object(i["addProgram"])(this.programForm).then((function(r){"0"===r.code?(o.msgSuccess("新增绩效考核方案成功"),o.show=!1):o.msgError(r.msg)})).catch((function(r){o.msgError(r)}))},updateProgramInfo:function(){var o=this;Object(i["updateProgram"])(this.programForm).then((function(r){"0"===r.code?(o.msgSuccess("修改绩效考核方案成功"),o.cancel()):o.msgError(r.msg)})).catch((function(r){o.msgError(r)}))}},watch:{show:function(){0==this.show&&this.$emit("update:visible",!1)},visible:function(){this.show=this.visible}}},c=n,m=t("2877"),p=Object(m["a"])(c,e,a,!1,null,"97ae5a92",null);r["default"]=p.exports}}]);